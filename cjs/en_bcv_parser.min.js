if (typeof module === "undefined") { var module = {}; }
"use strict";var At=Object.defineProperty;var xn=Object.getOwnPropertyDescriptor;var mn=Object.getOwnPropertyNames;var yn=Object.prototype.hasOwnProperty;var $n=(b,n)=>{for(var e in n)At(b,e,{get:n[e],enumerable:!0})},In=(b,n,e,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let l of mn(n))!yn.call(b,l)&&l!==e&&At(b,l,{get:()=>n[l],enumerable:!(o=xn(n,l))||o.enumerable});return b};var kn=b=>In(At({},"__esModule",{value:!0}),b);var Mn={};$n(Mn,{bcv_parser:()=>Bt});module.exports=kn(Mn);var ns=class extends SyntaxError{constructor(n,e,o,l){super(n),this.expected=e,this.found=o,this.location=l,this.name="SyntaxError"}format(n){let e="Error: "+this.message;if(this.location){let o=null,l=n.find(v=>v.source===this.location.source);l&&(o=l.text.split(/\r\n|\n|\r/g));let c=this.location.start,p=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(c):c,_=this.location.source+":"+p.line+":"+p.column;if(o){let v=this.location.end,I="".padEnd(p.line.toString().length," "),P=o[c.line-1],y=(c.line===v.line?v.column:P.length+1)-c.column||1;e+=`
 --> `+_+`
`+I+` |
`+p.line+" | "+P+`
`+I+" | "+"".padEnd(c.column-1," ")+"".padEnd(y,"^")}else e+=`
 at `+_}return e}static buildMessage(n,e){function o(y){return y.codePointAt(0).toString(16).toUpperCase()}let l=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function c(y){return l?y.replace(l,C=>"\\u{"+o(C)+"}"):y}function p(y){return c(y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,C=>"\\x0"+o(C)).replace(/[\x10-\x1F\x7F-\x9F]/g,C=>"\\x"+o(C)))}function _(y){return c(y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,C=>"\\x0"+o(C)).replace(/[\x10-\x1F\x7F-\x9F]/g,C=>"\\x"+o(C)))}let v={literal(y){return'"'+p(y.text)+'"'},class(y){let C=y.parts.map(A=>Array.isArray(A)?_(A[0])+"-"+_(A[1]):_(A));return"["+(y.inverted?"^":"")+C.join("")+"]"+(y.unicode?"u":"")},any(){return"any character"},end(){return"end of input"},other(y){return y.description}};function I(y){return v[y.type](y)}function P(y){let C=y.map(I);if(C.sort(),C.length>0){let A=1;for(let Q=1;Q<C.length;Q++)C[Q-1]!==C[Q]&&(C[A]=C[Q],A++);C.length=A}switch(C.length){case 1:return C[0];case 2:return C[0]+" or "+C[1];default:return C.slice(0,-1).join(", ")+", or "+C[C.length-1]}}function S(y){return y?'"'+p(y)+'"':"end of input"}return"Expected "+P(n)+" but "+S(e)+" found."}};function Rt(b,n){n=n!==void 0?n:{};let e={},o=n.grammarSource,l={start:Ue},c=Ue,p="(",_=")",v="",I="/",P=",",S=".",y="-",C="$ordinal",A="/1",Q="$ff_value",Vt="$next_value",Fe="/9",Be="/2",Re=".1",Ot="$ab",zt="$c_explicit_value",qt="$c_sep_value",Nt="$v_explicit_value",Gt="$cv_sep",Kt="$cv_sep_weak",Ve="$sequence_sep_value",Yt="$range_sep",Ht="$title_value",jt="$in_book_of",Oe="",Dt="$integer_value",Ut="$space",cs=/^[1-8]/,Ie=/^[0-9]/,ze=/^[([]/,fs=/^[)\]]/,qe=/^[^\x1F\x1E([]/,us=E("(",!1),hs=E(")",!1),re=E("",!1),ps=E("/",!1),gs=oe([["1","8"]],!1,!1,!1),ke=E(",",!1),Ce=E(".",!1),Ee=E("-",!1),Wt=E("$ordinal",!1),ds=E("/1",!1),Zt=E("$ff_value",!1),Xt=E("$next_value",!1),_s=E("/9",!1),bs=E("/2",!1),vs=E(".1",!1),we=oe([["0","9"]],!1,!1,!1),Qt=E("$ab",!1),en=E("$c_explicit_value",!1),sn=E("$c_sep_value",!1),tn=E("$v_explicit_value",!1),nn=E("$cv_sep",!1),rn=E("$cv_sep_weak",!1),xs=E("$sequence_sep_value",!1),an=E("$range_sep",!1),on=E("$title_value",!1),ln=E("$in_book_of",!1),Ne=oe(["(","["],!1,!1,!1),ms=oe([")","]"],!1,!1,!1),Ge=E("",!1),cn=E("$integer_value",!1),Ke=oe(["","","(","["],!0,!1,!1),fn=E("$space",!1);function Ye(s,t,r){return t&&t.type&&t.type==="c_explicit"&&(r.explicit_context="c"),[r]}function ys(s,t){t.unshift([s]);let r=$();return{type:"sequence",value:t,indices:[r.start,r.end-1]}}function He(s,t,r,a){return r&&r.type&&r.type==="c_explicit"&&(a.explicit_context="c"),[a]}function $s(s,t,r){typeof r>"u"&&(r=[]),s&&s.type&&s.type==="c_explicit"&&(t.explicit_context="c"),r.unshift([t]);let a=$();return{type:"sequence_post_enclosed",value:r,indices:[a.start,a.end-1]}}function Is(s,t){s.length&&s.length===2&&(s=s[0]);let r=$();return{type:"range",value:[s,t],indices:[r.start,r.end-1]}}function ks(s){let t=$();return{type:"b",value:s.value,indices:[t.start,t.end-1]}}function Cs(s,t){let r=$();return{type:"bc",value:[s,t],indices:[r.start,r.end-1]}}function Es(s,t){let r=$();return{type:"bc",value:[s,t],indices:[r.start,r.end-1]}}function ws(s){return s.value[1].value[0].partial==null}function Ps(s,t){let r=$();return{type:"bc_title",value:[s,t],indices:[r.start,r.end-1]}}function Ms(s,t){let r=$();return{type:"bcv",value:[s,t],indices:[r.start,r.end-1]}}function Ss(s){return s.value[1].value[0].partial==null}function Ts(s,t){let r=$();return{type:"bcv",value:[s,t],indices:[r.start,r.end-1]}}function Ls(s){return s.value[1].value[0].partial==null}function Js(s,t){let r=$();return{type:"bcv",value:[s,t],indices:[r.start,r.end-1]}}function As(s,t){return t.value[0].partial==null}function Fs(s,t,r,a){let f=$();return{type:"range",value:[{type:"bcv",value:[{type:"bc",value:[s,t],indices:[s.indices[0],t.indices[1]]},r],indices:[s.indices[0],r.indices[1]]},a],indices:[f.start,f.end-1]}}function Bs(s,t){let r=$();return{type:"bv",value:[s,t],indices:[r.start,r.end-1]}}function Rs(s){let t=$();return{type:"c",value:[s],indices:[t.start,t.end-1]}}function Vs(s){return s.value[0].partial==null}function Os(s,t){let r=$();return{type:"bc",value:[t,s],indices:[r.start,r.end-1]}}function zs(s){return s.value[0].partial==null}function qs(s,t,r){let a=$();return{type:"cb_range",value:[r,s,t],indices:[a.start,a.end-1]}}function Ns(s,t){let r=$();return{type:"bcv",value:[s,t],indices:[r.start,r.end-1]}}function Gs(s,t){let r=$();return{type:"bc",value:[t,s],indices:[r.start,r.end-1]}}function Ks(s,t){let r=$();return{type:"bcv",value:[s,t],indices:[r.start,r.end-1]}}function Ys(s){let t=$();return{type:"c_psalm",value:s.value,indices:[t.start,t.end-1]}}function Hs(s,t){let r=$();return{type:"cv_psalm",value:[s,t],indices:[r.start,r.end-1]}}function js(s){return s.value[0].partial==null}function Ds(s,t){let r=$();return{type:"c_title",value:[s,t],indices:[r.start,r.end-1]}}function Us(s){return s.value[0].partial==null}function Ws(s,t){let r=$();return{type:"cv",value:[s,t],indices:[r.start,r.end-1]}}function Zs(s){return s.value[0].partial==null}function Xs(s,t){let r=$();return{type:"cv",value:[s,t],indices:[r.start,r.end-1]}}function Qs(s){let t=$();return{type:"ff",value:[s],indices:[t.start,t.end-1]}}function et(s){let t=$();return{type:"next_v",value:[s],indices:[t.start,t.end-1]}}function st(s,t){let r=$();return{type:"integer_title",value:[s,t],indices:[r.start,r.end-1]}}function tt(s){let t=$();return{type:"context",value:s.value,indices:[t.start,t.end-1]}}function nt(s){let t=$();return{type:"b",value:s.value,indices:[t.start,t.end-1]}}function it(s){let t=$();return{type:"bc",value:[s,{type:"c",value:[{type:"integer",value:151,indices:[t.end-2,t.end-1]}],indices:[t.end-2,t.end-1]}],indices:[t.start,t.end-1]}}function rt(s,t){let r=$();return{type:"bcv",value:[s,{type:"v",value:[t],indices:[t.indices[0],t.indices[1]]}],indices:[r.start,r.end-1]}}function at(s){let t=$();return{type:"v",value:[s],indices:[t.start,t.end-1]}}function ot(){return{type:"c_explicit"}}function lt(){return{type:"c_explicit"}}function ct(){return{type:"v_explicit"}}function un(){return""}function ft(s){let t=$();return{type:"title",value:[s],indices:[t.start,t.end-1]}}function ut(s){let t=$();return{type:"translation_sequence",value:s,indices:[t.start,t.end-1]}}function ht(s){let t=$();return{type:"translation_sequence",value:s,indices:[t.start,t.end-1]}}function pt(s){let t=$();return{type:"translation",value:s.value,indices:[t.start,t.end-1]}}function gt(s,t){let r=$();return{type:"integer",value:parseInt(s.join(""),10),partial:t!=null?t[1].join(""):null,indices:[r.start,r.end-1]}}function dt(s){let t=$();return{type:"integer",value:parseInt(s.join(""),10),indices:[t.start,t.end-1]}}function _t(s){let t=$();return{type:"word",value:s.join(""),indices:[t.start,t.end-1]}}function bt(s){let t=$();return{type:"stop",value:s,indices:[t.start,t.end-1]}}let i=n.peg$currPos|0,g=i,ee=[{line:1,column:1}],V=i,ve=n.peg$maxFailExpected||[],x=n.peg$silentFails|0,ae;if(n.startRule){if(!(n.startRule in l))throw new Error(`Can't start parsing from rule "`+n.startRule+'".');c=l[n.startRule]}function hn(){return b.substring(g,i)}function pn(){return g}function $(){return{source:o,start:g,end:i}}function gn(){return le(g,i)}function dn(s,t){throw t=t!==void 0?t:le(g,i),De([mt(s)],b.substring(g,i),t)}function _n(s,t){throw t=t!==void 0?t:le(g,i),yt(s,t)}function vt(s=i){let t=b.codePointAt(s);return t===void 0?"":String.fromCodePoint(t)}function E(s,t){return{type:"literal",text:s,ignoreCase:t}}function oe(s,t,r,a){return{type:"class",parts:s,inverted:t,ignoreCase:r,unicode:a}}function bn(){return{type:"any"}}function xt(){return{type:"end"}}function mt(s){return{type:"other",description:s}}function je(s){let t=ee[s],r;if(t)return t;if(s>=ee.length)r=ee.length-1;else for(r=s;!ee[--r];);for(t=ee[r],t={line:t.line,column:t.column};r<s;)b.charCodeAt(r)===10?(t.line++,t.column=1):t.column++,r++;return ee[s]=t,t}function le(s,t,r){let a=je(s),f=je(t),h={source:o,start:{offset:s,line:a.line,column:a.column},end:{offset:t,line:f.line,column:f.column}};return r&&o&&typeof o.offset=="function"&&(h.start=o.offset(h.start),h.end=o.offset(h.end)),h}function k(s){i<V||(i>V&&(V=i,ve=[]),ve.push(s))}function yt(s,t){return new ns(s,null,null,t)}function De(s,t,r){return new ns(ns.buildMessage(s,t),s,t,r)}function Ue(){let s,t;if(s=[],t=me(),t===e&&(t=We(),t===e&&(t=ye(),t===e&&(t=xe(),t===e&&(t=he(),t===e&&(t=ue(),t===e&&(t=j(),t===e&&(t=H(),t===e&&(t=X(),t===e&&(t=N(),t===e&&(t=G(),t===e&&(t=O(),t===e&&(t=F(),t===e&&(t=ne(),t===e&&(t=K(),t===e&&(t=W(),t===e&&(t=J(),t===e&&(t=se(),t===e&&(t=te(),t===e&&(t=D(),t===e&&(t=U(),t===e&&(t=Ze(),t===e&&(t=Xe(),t===e&&(t=M(),t===e&&(t=fe(),t===e&&(t=pe(),t===e&&(t=Y(),t===e&&(t=Z(),t===e&&(t=z(),t===e&&(t=T(),t===e&&(t=w(),t===e&&(t=Qe(),t===e&&(t=es(),t===e&&(t=Pe()))))))))))))))))))))))))))))))))),t!==e)for(;t!==e;)s.push(t),t=me(),t===e&&(t=We(),t===e&&(t=ye(),t===e&&(t=xe(),t===e&&(t=he(),t===e&&(t=ue(),t===e&&(t=j(),t===e&&(t=H(),t===e&&(t=X(),t===e&&(t=N(),t===e&&(t=G(),t===e&&(t=O(),t===e&&(t=F(),t===e&&(t=ne(),t===e&&(t=K(),t===e&&(t=W(),t===e&&(t=J(),t===e&&(t=se(),t===e&&(t=te(),t===e&&(t=D(),t===e&&(t=U(),t===e&&(t=Ze(),t===e&&(t=Xe(),t===e&&(t=M(),t===e&&(t=fe(),t===e&&(t=pe(),t===e&&(t=Y(),t===e&&(t=Z(),t===e&&(t=z(),t===e&&(t=T(),t===e&&(t=w(),t===e&&(t=Qe(),t===e&&(t=es(),t===e&&(t=Pe())))))))))))))))))))))))))))))))));else s=e;return s}function We(){let s,t,r,a,f,h;if(s=i,t=ye(),t===e&&(t=me(),t===e&&(t=xe(),t===e&&(t=he(),t===e&&(t=ue(),t===e&&(t=j(),t===e&&(t=H(),t===e&&(t=X(),t===e&&(t=N(),t===e&&(t=G(),t===e&&(t=O(),t===e&&(t=F(),t===e&&(t=ne(),t===e&&(t=K(),t===e&&(t=W(),t===e&&(t=J(),t===e&&(t=se(),t===e&&(t=te(),t===e&&(t=D(),t===e&&(t=U(),t===e&&(t=Pe())))))))))))))))))))),t!==e){if(r=[],a=i,f=de(),f===e&&(f=M(),f===e&&(f=null)),f!==e?(h=ce(),h!==e?(g=a,a=Ye(t,f,h)):(i=a,a=e)):(i=a,a=e),a!==e)for(;a!==e;)r.push(a),a=i,f=de(),f===e&&(f=M(),f===e&&(f=null)),f!==e?(h=ce(),h!==e?(g=a,a=Ye(t,f,h)):(i=a,a=e)):(i=a,a=e);else r=e;r!==e?(g=s,s=ys(t,r)):(i=s,s=e)}else i=s,s=e;return s}function $t(){let s,t,r,a,f,h,u,d,m;if(s=i,b.charCodeAt(i)===40?(t=p,i++):(t=e,x===0&&k(us)),t!==e)if(r=L(),a=de(),a===e&&(a=M(),a===e&&(a=null)),a!==e)if(f=ce(),f!==e){for(h=[],u=i,d=de(),d===e&&(d=M(),d===e&&(d=null)),d!==e?(m=ce(),m!==e?(g=u,u=He(a,f,d,m)):(i=u,u=e)):(i=u,u=e);u!==e;)h.push(u),u=i,d=de(),d===e&&(d=M(),d===e&&(d=null)),d!==e?(m=ce(),m!==e?(g=u,u=He(a,f,d,m)):(i=u,u=e)):(i=u,u=e);u=L(),b.charCodeAt(i)===41?(d=_,i++):(d=e,x===0&&k(hs)),d!==e?(g=s,s=$s(a,f,h)):(i=s,s=e)}else i=s,s=e;else i=s,s=e;else i=s,s=e;return s}function ce(){let s;return s=$t(),s===e&&(s=ye(),s===e&&(s=me(),s===e&&(s=xe(),s===e&&(s=he(),s===e&&(s=ue(),s===e&&(s=j(),s===e&&(s=H(),s===e&&(s=X(),s===e&&(s=N(),s===e&&(s=G(),s===e&&(s=O(),s===e&&(s=F(),s===e&&(s=ne(),s===e&&(s=K(),s===e&&(s=W(),s===e&&(s=J(),s===e&&(s=se(),s===e&&(s=te(),s===e&&(s=D(),s===e&&(s=U(),s===e&&(s=fe(),s===e&&(s=pe(),s===e&&(s=Y(),s===e&&(s=Z(),s===e&&(s=z(),s===e&&(s=T(),s===e&&(s=w()))))))))))))))))))))))))))),s}function xe(){let s,t,r,a,f,h,u;return s=i,t=j(),t===e&&(t=H(),t===e&&(t=X(),t===e&&(t=N(),t===e&&(t=G(),t===e&&(t=O(),t===e&&(t=F(),t===e&&(t=ne(),t===e&&(t=K(),t===e&&(t=i,r=J(),r!==e?(a=i,x++,f=i,h=_e(),h!==e?(u=j(),u===e&&(u=H(),u===e&&(u=X(),u===e&&(u=N(),u===e&&(u=G(),u===e&&(u=O(),u===e&&(u=F(),u===e&&(u=K(),u===e&&(u=J())))))))),u!==e?(h=[h,u],f=h):(i=f,f=e)):(i=f,f=e),x--,f!==e?(i=a,a=void 0):a=e,a!==e?(r=[r,a],t=r):(i=t,t=e)):(i=t,t=e),t===e&&(t=se(),t===e&&(t=te(),t===e&&(t=W(),t===e&&(t=D(),t===e&&(t=U(),t===e&&(t=fe(),t===e&&(t=pe(),t===e&&(t=Y(),t===e&&(t=Z(),t===e&&(t=z(),t===e&&(t=T(),t===e&&(t=w()))))))))))))))))))))),t!==e?(r=_e(),r!==e?(a=he(),a===e&&(a=ue(),a===e&&(a=j(),a===e&&(a=H(),a===e&&(a=X(),a===e&&(a=N(),a===e&&(a=G(),a===e&&(a=O(),a===e&&(a=F(),a===e&&(a=ne(),a===e&&(a=K(),a===e&&(a=J(),a===e&&(a=se(),a===e&&(a=te(),a===e&&(a=W(),a===e&&(a=D(),a===e&&(a=U(),a===e&&(a=fe(),a===e&&(a=pe(),a===e&&(a=Y(),a===e&&(a=z(),a===e&&(a=Z(),a===e&&(a=T(),a===e&&(a=w()))))))))))))))))))))))),a!==e?(g=s,s=Is(t,a)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function J(){let s,t,r,a,f,h;return s=i,b.charCodeAt(i)===31?(t=v,i++):(t=e,x===0&&k(re)),t!==e?(r=be(),r!==e?(a=i,b.charCodeAt(i)===47?(f=I,i++):(f=e,x===0&&k(ps)),f!==e?(h=b.charAt(i),cs.test(h)?i++:(h=e,x===0&&k(gs)),h!==e?(f=[f,h],a=f):(i=a,a=e)):(i=a,a=e),a===e&&(a=null),b.charCodeAt(i)===31?(f=v,i++):(f=e,x===0&&k(re)),f!==e?(g=s,s=ks(r)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function F(){let s,t,r,a,f,h;return s=i,t=J(),t!==e?(r=i,a=B(),a!==e?(f=i,x++,h=Y(),x--,h!==e?(i=f,f=void 0):f=e,f!==e?(a=[a,f],r=a):(i=r,r=e)):(i=r,r=e),r===e&&(r=q(),r===e&&(r=$e(),r===e&&(r=_e(),r===e&&(r=L())))),r!==e?(a=T(),a!==e?(g=s,s=Cs(t,a)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function It(){let s,t,r,a,f,h;return s=i,t=J(),t!==e?(r=L(),b.charCodeAt(i)===44?(a=P,i++):(a=e,x===0&&k(ke)),a!==e?(f=L(),h=T(),h!==e?(g=s,s=Es(t,h)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function H(){let s,t,r,a;return s=i,t=O(),t===e&&(t=F()),t!==e?(g=i,r=ws(t),r?r=void 0:r=e,r!==e?(a=Me(),a!==e?(g=s,s=Ps(t,a)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function N(){let s,t,r,a,f,h,u;return s=i,t=O(),t===e&&(t=F()),t!==e?(r=i,x++,a=i,b.charCodeAt(i)===46?(f=S,i++):(f=e,x===0&&k(Ce)),f!==e?(h=B(),h!==e?(u=w(),u!==e?(f=[f,h,u],a=f):(i=a,a=e)):(i=a,a=e)):(i=a,a=e),a===e&&(a=i,f=M(),f===e&&(f=null),h=B(),h!==e?(u=Y(),u!==e?(f=[f,h,u],a=f):(i=a,a=e)):(i=a,a=e)),x--,a===e?r=void 0:(i=r,r=e),r!==e?(a=i,f=q(),f===e&&(f=M()),f===e&&(f=null),h=B(),h!==e?(f=[f,h],a=f):(i=a,a=e),a===e&&(a=q()),a!==e?(f=w(),f!==e?(g=s,s=Ms(t,f)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function G(){let s,t,r,a,f,h,u,d,m;return s=i,t=O(),t===e&&(t=F()),t!==e?(g=i,r=Ss(t),r?r=void 0:r=e,r!==e?(a=$e(),a!==e?(f=w(),f!==e?(h=i,x++,u=i,d=q(),d!==e?(m=w(),m!==e?(d=[d,m],u=d):(i=u,u=e)):(i=u,u=e),x--,u===e?h=void 0:(i=h,h=e),h!==e?(g=s,s=Ts(t,f)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function j(){let s,t,r,a,f,h,u,d,m,R,Le;return s=i,t=It(),t!==e?(g=i,r=Ls(t),r?r=void 0:r=e,r!==e?(a=L(),b.charCodeAt(i)===44?(f=P,i++):(f=e,x===0&&k(ke)),f!==e?(h=L(),u=w(),u!==e?(d=i,x++,m=i,R=q(),R!==e?(Le=w(),Le!==e?(R=[R,Le],m=R):(i=m,m=e)):(i=m,m=e),x--,m===e?d=void 0:(i=d,d=e),d!==e?(g=s,s=Js(t,u)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function me(){let s,t,r,a,f,h,u,d,m;return s=i,t=J(),t!==e?(b.charCodeAt(i)===45?(r=y,i++):(r=e,x===0&&k(Ee)),r===e&&(r=ss()),r===e&&(r=null),a=T(),a!==e?(g=i,f=As(t,a),f?f=void 0:f=e,f!==e?(b.charCodeAt(i)===45?(h=y,i++):(h=e,x===0&&k(Ee)),h!==e?(u=w(),u!==e?(b.charCodeAt(i)===45?(d=y,i++):(d=e,x===0&&k(Ee)),d!==e?(m=w(),m!==e?(g=s,s=Fs(t,a,u,m)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function K(){let s,t,r,a,f,h;return s=i,t=J(),t!==e?(r=q(),r===e&&(r=$e(),r===e&&(r=_e(),r===e&&(r=i,a=M(),a!==e?(f=i,x++,h=B(),x--,h!==e?(i=f,f=void 0):f=e,f!==e?(a=[a,f],r=a):(i=r,r=e)):(i=r,r=e),r===e&&(r=L())))),r!==e?(a=w(),a!==e?(g=s,s=Bs(t,a)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function T(){let s,t,r;return s=i,t=ge(),t===e&&(t=null),r=z(),r!==e?(g=s,s=Rs(r)):(i=s,s=e),s}function D(){let s,t,r,a,f,h;return s=i,t=ge(),t!==e?(r=T(),r!==e?(g=i,a=Vs(r),a?a=void 0:a=e,a!==e?(f=Se(),f===e&&(f=null),h=J(),h!==e?(g=s,s=Os(r,h)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function ye(){let s,t,r,a,f,h,u,d;return s=i,t=ge(),t!==e?(r=T(),r!==e?(g=i,a=zs(r),a?a=void 0:a=e,a!==e?(f=_e(),f!==e?(h=T(),h!==e?(u=Se(),u===e&&(u=null),d=J(),d!==e?(g=s,s=qs(r,h,d)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function se(){let s,t,r,a,f;return s=i,t=D(),t!==e?(r=M(),r===e&&(r=null),a=B(),a!==e?(f=w(),f!==e?(g=s,s=Ns(t,f)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function U(){let s,t,r,a,f,h;return s=i,t=T(),t!==e?(r=kt(),r!==e?(a=ge(),a!==e?(f=Se(),f===e&&(f=null),h=J(),h!==e?(g=s,s=Gs(t,h)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function kt(){let s;return(s=n.ordinal.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function te(){let s,t,r,a,f;return s=i,t=U(),t!==e?(r=M(),r===e&&(r=null),a=B(),a!==e?(f=w(),f!==e?(g=s,s=Ks(t,f)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function W(){let s,t,r,a;return s=i,b.charCodeAt(i)===31?(t=v,i++):(t=e,x===0&&k(re)),t!==e?(r=be(),r!==e?(b.substr(i,3)===A?(a=A,i+=3):(a=e,x===0&&k(ds)),a!==e?(g=s,s=Ys(r)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function ne(){let s,t,r,a,f;return s=i,t=W(),t!==e?(r=M(),r===e&&(r=null),a=B(),a!==e?(f=w(),f!==e?(g=s,s=Hs(t,f)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function fe(){let s,t,r,a,f;return s=i,t=ge(),t!==e?(r=T(),r!==e?(g=i,a=js(r),a?a=void 0:a=e,a!==e?(f=Me(),f!==e?(g=s,s=Ds(r,f)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function Y(){let s,t,r,a,f,h,u,d,m;return s=i,t=B(),t===e&&(t=null),r=T(),r!==e?(g=i,a=Us(r),a?a=void 0:a=e,a!==e?(f=i,x++,h=i,b.charCodeAt(i)===46?(u=S,i++):(u=e,x===0&&k(Ce)),u!==e?(d=B(),d!==e?(m=w(),m!==e?(u=[u,d,m],h=u):(i=h,h=e)):(i=h,h=e)):(i=h,h=e),x--,h===e?f=void 0:(i=f,f=e),f!==e?(h=i,u=q(),u===e&&(u=null),d=B(),d!==e?(u=[u,d],h=u):(i=h,h=e),h===e&&(h=q()),h!==e?(u=w(),u!==e?(g=s,s=Ws(r,u)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function Z(){let s,t,r,a,f,h,u,d,m;return s=i,t=T(),t!==e?(g=i,r=Zs(t),r?r=void 0:r=e,r!==e?(a=$e(),a!==e?(f=w(),f!==e?(h=i,x++,u=i,d=q(),d!==e?(m=w(),m!==e?(d=[d,m],u=d):(i=u,u=e)):(i=u,u=e),x--,u===e?h=void 0:(i=h,h=e),h!==e?(g=s,s=Xs(t,f)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function ue(){let s,t,r,a;return s=i,t=N(),t===e&&(t=G(),t===e&&(t=F(),t===e&&(t=K(),t===e&&(t=Y(),t===e&&(t=Z(),t===e&&(t=z(),t===e&&(t=T(),t===e&&(t=w())))))))),t!==e?(r=L(),a=Ct(),a!==e?(g=s,s=Qs(t)):(i=s,s=e)):(i=s,s=e),s}function Ct(){let s;return(s=n.ff.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function he(){let s,t,r,a;return s=i,t=N(),t===e&&(t=G(),t===e&&(t=F(),t===e&&(t=K(),t===e&&(t=Y(),t===e&&(t=Z(),t===e&&(t=z(),t===e&&(t=T(),t===e&&(t=w())))))))),t!==e?(r=L(),a=Et(),a!==e?(g=s,s=et(t)):(i=s,s=e)):(i=s,s=e),s}function Et(){let s;return(s=n.next.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function pe(){let s,t,r;return s=i,t=z(),t!==e?(r=Me(),r!==e?(g=s,s=st(t,r)):(i=s,s=e)):(i=s,s=e),s}function Pe(){let s,t,r,a;return s=i,b.charCodeAt(i)===31?(t=v,i++):(t=e,x===0&&k(re)),t!==e?(r=be(),r!==e?(b.substr(i,3)===Fe?(a=Fe,i+=3):(a=e,x===0&&k(_s)),a!==e?(g=s,s=tt(r)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function wt(){let s,t,r,a;return s=i,b.charCodeAt(i)===31?(t=v,i++):(t=e,x===0&&k(re)),t!==e?(r=be(),r!==e?(b.substr(i,3)===Be?(a=Be,i+=3):(a=e,x===0&&k(bs)),a!==e?(g=s,s=nt(r)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function O(){let s,t,r,a,f;return s=i,t=wt(),t!==e?(b.substr(i,2)===Re?(r=Re,i+=2):(r=e,x===0&&k(vs)),r!==e?(a=i,x++,f=b.charAt(i),Ie.test(f)?i++:(f=e,x===0&&k(we)),x--,f===e?a=void 0:(i=a,a=e),a!==e?(g=s,s=it(t)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function X(){let s,t,r,a;return s=i,t=O(),t!==e?(b.charCodeAt(i)===46?(r=S,i++):(r=e,x===0&&k(Ce)),r!==e?(a=z(),a!==e?(g=s,s=rt(t,a)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function Pt(){let s;return(s=n.ab.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function w(){let s,t,r;return s=i,t=B(),t===e&&(t=null),r=z(),r!==e?(g=s,s=at(r)):(i=s,s=e),s}function ge(){let s,t;return s=i,t=Mt(),t!==e&&(g=s,t=ot()),s=t,s}function Mt(){let s;return(s=n.c_explicit.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function de(){let s,t;return s=i,t=St(),t!==e&&(g=s,t=lt()),s=t,s}function St(){let s;return(s=n.c_sep.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function B(){let s,t;return s=i,t=Tt(),t!==e&&(g=s,t=ct()),s=t,s}function Tt(){let s;return(s=n.v_explicit.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function q(){let s;return(s=n.cv_sep.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function $e(){let s;return(s=n.cv_sep_weak.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function M(){let s;return(s=n.sequence.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function vn(){let s;return b.substr(i,19)===Ve?(s=Ve,i+=19):(s=e,x===0&&k(xs)),s}function _e(){let s;return(s=n.range.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function Me(){let s,t,r;return s=i,t=q(),t===e&&(t=M()),t===e&&(t=null),r=Lt(),r!==e?(g=s,s=ft(r)):(i=s,s=e),s}function Lt(){let s;return(s=n.title.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function Se(){let s;return(s=n.in_book_of.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function Ze(){let s,t,r,a,f,h,u,d,m,R;if(s=i,t=L(),r=b.charAt(i),ze.test(r)?i++:(r=e,x===0&&k(Ne)),r!==e){if(a=L(),f=i,h=ie(),h!==e){for(u=[],d=i,m=M(),m!==e?(R=ie(),R!==e?(m=[m,R],d=m):(i=d,d=e)):(i=d,d=e);d!==e;)u.push(d),d=i,m=M(),m!==e?(R=ie(),R!==e?(m=[m,R],d=m):(i=d,d=e)):(i=d,d=e);h=[h,u],f=h}else i=f,f=e;f!==e?(h=L(),u=b.charAt(i),fs.test(u)?i++:(u=e,x===0&&k(ms)),u!==e?(g=s,s=ut(f)):(i=s,s=e)):(i=s,s=e)}else i=s,s=e;return s}function Xe(){let s,t,r,a,f,h,u,d,m;if(s=i,t=L(),r=i,b.charCodeAt(i)===44?(a=P,i++):(a=e,x===0&&k(ke)),a!==e?(f=L(),a=[a,f],r=a):(i=r,r=e),r===e&&(r=null),a=i,f=ie(),f!==e){for(h=[],u=i,d=M(),d!==e?(m=ie(),m!==e?(d=[d,m],u=d):(i=u,u=e)):(i=u,u=e);u!==e;)h.push(u),u=i,d=M(),d!==e?(m=ie(),m!==e?(d=[d,m],u=d):(i=u,u=e)):(i=u,u=e);f=[f,h],a=f}else i=a,a=e;return a!==e?(g=s,s=ht(a)):(i=s,s=e),s}function ie(){let s,t,r,a;return s=i,b.charCodeAt(i)===30?(t=Oe,i++):(t=e,x===0&&k(Ge)),t!==e?(r=be(),r!==e?(b.charCodeAt(i)===30?(a=Oe,i++):(a=e,x===0&&k(Ge)),a!==e?(g=s,s=pt(r)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function z(){let s,t,r,a,f;return s=i,t=Jt(),t!==e?(r=i,a=L(),f=Pt(),f!==e?(a=[a,f],r=a):(i=r,r=e),r===e&&(r=null),g=s,s=gt(t,r)):(i=s,s=e),s}function Jt(){let s;return(s=/^[0-9]{1,3}(?![0-9]|,000)/.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function be(){let s,t,r;if(s=i,t=[],r=b.charAt(i),Ie.test(r)?i++:(r=e,x===0&&k(we)),r!==e)for(;r!==e;)t.push(r),r=b.charAt(i),Ie.test(r)?i++:(r=e,x===0&&k(we));else t=e;return t!==e&&(g=s,t=dt(t)),s=t,s}function Qe(){let s,t,r;if(s=i,t=[],r=b.charAt(i),qe.test(r)?i++:(r=e,x===0&&k(Ke)),r!==e)for(;r!==e;)t.push(r),r=b.charAt(i),qe.test(r)?i++:(r=e,x===0&&k(Ke));else t=e;return t!==e&&(g=s,t=_t(t)),s=t,s}function es(){let s,t;return s=i,t=b.charAt(i),ze.test(t)?i++:(t=e,x===0&&k(Ne)),t!==e&&(g=s,t=bt(t)),s=t,s}function L(){let s;return s=ss(),s===e&&(s=null),s}function ss(){let s;return(s=n.space.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}ae=c();let Te=ae!==e&&i===b.length;function ts(){throw ae!==e&&i<b.length&&k(xt()),De(ve,V<b.length?vt(V):null,V<b.length?le(V,V+1):le(V,V))}if(n.peg$library)return{peg$result:ae,peg$currPos:i,peg$FAILED:e,peg$maxFailExpected:ve,peg$maxFailPos:V,peg$success:Te,peg$throw:Te?void 0:ts};if(Te)return ae;ts()}var Je=class{constructor(n,e){this.parent=n,this.parent.options.grammar=structuredClone(e)}replace_control_characters(n){return n.replace(this.parent.regexps.control," ")}replace_non_ascii_numbers(n){return this.parent.options.non_latin_digits_strategy==="replace"&&(n=n.replace(/[٠۰߀०০੦૦୦0౦೦൦๐໐༠၀႐០᠐᥆᧐᪀᪐᭐᮰᱀᱐꘠꣐꤀꧐꩐꯰０]/g,"0"),n=n.replace(/[١۱߁१১੧૧୧௧౧೧൧๑໑༡၁႑១᠑᥇᧑᪁᪑᭑᮱᱁᱑꘡꣑꤁꧑꩑꯱１]/g,"1"),n=n.replace(/[٢۲߂२২੨૨୨௨౨೨൨๒໒༢၂႒២᠒᥈᧒᪂᪒᭒᮲᱂᱒꘢꣒꤂꧒꩒꯲２]/g,"2"),n=n.replace(/[٣۳߃३৩੩૩୩௩౩೩൩๓໓༣၃႓៣᠓᥉᧓᪃᪓᭓᮳᱃᱓꘣꣓꤃꧓꩓꯳３]/g,"3"),n=n.replace(/[٤۴߄४৪੪૪୪௪౪೪൪๔໔༤၄႔៤᠔᥊᧔᪄᪔᭔᮴᱄᱔꘤꣔꤄꧔꩔꯴４]/g,"4"),n=n.replace(/[٥۵߅५৫੫૫୫௫౫೫൫๕໕༥၅႕៥᠕᥋᧕᪅᪕᭕᮵᱅᱕꘥꣕꤅꧕꩕꯵５]/g,"5"),n=n.replace(/[٦۶߆६৬੬૬୬௬౬೬൬๖໖༦၆႖៦᠖᥌᧖᪆᪖᭖᮶᱆᱖꘦꣖꤆꧖꩖꯶６]/g,"6"),n=n.replace(/[٧۷߇७৭੭૭୭௭౭೭൭๗໗༧၇႗៧᠗᥍᧗᪇᪗᭗᮷᱇᱗꘧꣗꤇꧗꩗꯷７]/g,"7"),n=n.replace(/[٨۸߈८৮੮૮୮௮౮೮൮๘໘༨၈႘៨᠘᥎᧘᪈᪘᭘᮸᱈᱘꘨꣘꤈꧘꩘꯸８]/g,"8"),n=n.replace(/[٩۹߉९৯੯૯୯௯౯೯൯๙໙༩၉႙៩᠙᥏᧙᪉᪙᭙᮹᱉᱙꘩꣙꤉꧙꩙꯹９]/g,"9")),n}match_books(n){let e=[];for(let o of this.parent.regexps.books){let l=!1;if(n=n.replace(o.regexp,function(c,p){l=!0,e.push({value:p,parsed:o.osis,type:"book"});let _=o.extra?`/${o.extra}`:"";return`${e.length-1}${_}`}),l&&/^[\s\x1f\d:.,;\-\u2013\u2014]+$/.test(n))break}for(let o of this.parent.regexps.translations)n=n.replace(o,function(l){return e.push({value:l,parsed:l.toLowerCase(),type:"translation"}),`${e.length-1}`});return[n,this.get_book_indices(e,n)]}get_book_indices(n,e){let o=0;for(let l of e.matchAll(/([\x1f\x1e])(\d+)(?:\/\d+)?\1/g)){let c=parseInt(l[2],10);n[c].start_index=l.index+o,o+=n[c].value.length-l[0].length}return n}match_passages(n){let e=[],o={};for(let l of n.matchAll(this.parent.regexps.escaped_passage)){let[c,p,_]=l,v=parseInt(_,10),I=p.length;l.index+=c.length-I,p=this.clean_end_match(n,l,p);let P=p.startsWith("")?0:p.split("")[0].length,S={value:Rt(p,this.parent.options.grammar),type:"base",start_index:this.parent.passage.books[v].start_index-P,match:p},y=this.parent.passage.books[v].parsed;P===0&&this.parent.options.book_alone_strategy==="full"&&this.parent.options.book_range_strategy==="include"&&S.value[0].type==="b"&&Array.isArray(S.value)&&(S.value.length===1||S.value.length>1&&S.value[1].type==="translation_sequence")&&/^[234]/.test(y)&&this.create_book_range(n,S,v);let C=[];[C,o]=this.parent.passage.handle_obj(S,[],{}),e=e.concat(C);let A=this.adjust_regexp_end(C,I,p.length);A>0&&(this.parent.regexps.escaped_passage.lastIndex-=A)}return[e,o]}clean_end_match(n,e,o){if(/\s[2-9]\d\d\s*$|\s\d{4,}\s*$/.test(o)&&(o=o.replace(/\s+\d+\s*$/,"")),!/[\d\x1f\x1e)]$/.test(o)){let l=o.split(this.parent.regexps.match_end_split),c=l.pop();l.length>0&&c!=null&&c.length>0&&(o=o.substring(0,o.length-c.length))}if(this.parent.options.captive_end_digits_strategy==="delete"){let l=e.index+o.length;n.length>l&&/^\w/.test(n.charAt(l))&&(o=o.replace(/[\s*]+\d+$/,"")),o=o.replace(/(\x1e[)\]]?)[\s*]*\d+$/,"$1")}return o}adjust_regexp_end(n,e,o){return n.length>0?e-n[n.length-1].indices[1]-1:e!==o?e-o:0}create_book_range(n,e,o){let l=[this.parent.regexps.first,this.parent.regexps.second,this.parent.regexps.third],c=parseInt(this.parent.passage.books[o].parsed[0].substring(0,1),10);for(let p=1;p<c;p++){let _=p===c-1?this.parent.regexps.range_and:this.parent.regexps.range_only,v=new RegExp(String.raw`${this.parent.regexps.pre_number_book.source}(${l[p-1].source}\s*${_.source}\s*)\x1f${o}\x1f`,"iu"),I=n.match(v);if(I)return this.add_book_range_object(e,I,p)}return!1}add_book_range_object(n,e,o){let l=e[1].length;if(n.value[0]={type:"b_range_pre",value:[{type:"b_pre",value:o.toString(),indices:[e.index,e.index+l]},n.value[0]],indices:[0,n.value[0].indices[1]+l]},this.add_offset_to_indices(n.value[0].value[1].indices,l),n.start_index-=l,n.match=e[1]+n.match,!Array.isArray(n.value))return n;for(let c=1;c<n.value.length;c++)n.value[c].value&&(n.value[c].value[0]?.indices&&this.add_offset_to_indices(n.value[c].value[0].indices,l),this.add_offset_to_indices(n.value[c].indices,l));return n}add_offset_to_indices(n,e){n[0]+=e,n[1]+=e}};var is=class{constructor(n){this.consecutive_combination_strategy="combine";this.osis_compaction_strategy="b";this.book_sequence_strategy="ignore";this.invalid_sequence_strategy="ignore";this.sequence_combination_strategy="combine";this.invalid_passage_strategy="ignore";this.non_latin_digits_strategy="ignore";this.passage_existence_strategy="bcv";this.book_alone_strategy="ignore";this.book_range_strategy="ignore";this.captive_end_digits_strategy="delete";this.ps151_strategy="c";this.zero_chapter_strategy="error";this.zero_verse_strategy="error";this.single_chapter_1_strategy="chapter";this.end_range_digits_strategy="verse";this.warn_level="none";this.#s="on";this.#t="none";this.#e={ab:/^[a-e](?!\p{L})/iu,and:/^&/,c_explicit:/^[\s*]*(?:chapters?|cha?pts?\.?|chaps?\.?|ch[aps]?\.?)[\s*]*/i,c_sep_eu:/^\x1f\x1f\x1f/,c_sep_us:/^\x1f\x1f\x1f/,cv_sep_weak:/^(?:[\s*]*["'][\s*]*|[\s*])+/,cv_sep_eu:/^[\s*]*,+[\s*]*/,cv_sep_us:/^[\s*]*(?::+|\.(?!\s*\.\s*\.))[\s*]*/i,ff:/^\x1f\x1f\x1f/,in_book_of:/^\x1f\x1f\x1f/,next:/^\x1f\x1f\x1f/,ordinal:/^\x1f\x1f\x1f/,range:/^[\s*]*[\-\u2013\u2014][\s*]*/,sequence_eu:/^(?:[;/:&\-\u2013\u2014~\s*]|\.(?!\s*\.\s*\.))+/,sequence_us:/^(?:[,;/:&\-\u2013\u2014~\s*]|\.(?!\s*\.\s*\.))+/,space:/^[\s*]+/,title:/^[\s*]*title[\s*]*/i,v_explicit:/^[\s*]*(?:verses?|ver\.?|vss?\.?|vv?\.?)[\s*]*(?!\p{L})/iu,c_sep:/^\x1f\x1f\x1f/,cv_sep:/^\x1f\x1f\x1f/,sequence:/^\x1f\x1f\x1f/};this.#n="us";this.parent=n,this.#e.cv_sep=this.#e.cv_sep_us,this.#e.sequence=this.#e.sequence_us}#s;get testaments(){return this.#s}set testaments(n){if(n===this.#s||n.length===0)return;let e=n.split(""),o="";if(e[0]==="o"&&(e.shift(),o+="o"),e.length>0&&e[0]==="n"&&(e.shift(),o+="n"),e.length>0&&e[0]==="a"&&(o+="a"),o.length>0&&o!==this.#s){let l=o.indexOf("a")>=0,c=this.#s.indexOf("a")>=0;this.#s=o,l!==c?this.set_apocrypha(l):this.parent.regexps_manager.filter_books(this.#s,this.case_sensitive)}}set_apocrypha(n){this.parent.regexps_manager.filter_books(this.#s,this.case_sensitive);for(let e of Object.keys(this.parent.translations.systems))this.parent.translations.systems[e].chapters??={},this.parent.translations.systems[e].chapters.Ps??=[...this.parent.translations.systems.current.chapters.Ps],n===!0?this.parent.translations.systems[e].chapters.Ps[150]=this.parent.translations.systems[e].chapters.Ps151?.[0]??this.parent.translations.systems.current.chapters.Ps151[0]:this.parent.translations.systems[e].chapters?.Ps.length===151&&this.parent.translations.systems[e].chapters.Ps.pop()}get versification_system(){return this.parent.translations.current_system}set versification_system(n){this.parent.translations.aliases[n]?.system&&(n=this.parent.translations.aliases[n].system),this.parent.translations.systems[n]||(this.warn_level==="warn"&&console.warn(`Unknown versification system ("${n}"). Using default instead.`),n="default"),!(!n||n===this.parent.translations.current_system)&&(this.parent.translations.current_system!=="default"&&(this.parent.translations.systems.current=structuredClone(this.parent.translations.systems.default)),this.parent.translations.current_system=n,n!=="default"&&(this.parent.translations.systems[n].order&&(this.parent.translations.systems.current.order={...this.parent.translations.systems[n].order}),this.parent.translations.systems[n].chapters&&(this.parent.translations.systems.current.chapters={...structuredClone(this.parent.translations.systems.default.chapters),...structuredClone(this.parent.translations.systems[n].chapters)})))}#t;get case_sensitive(){return this.#t}set case_sensitive(n){n===this.#t||n!=="none"&&n!=="books"&&n!=="translations"&&n!=="books,translations"||(this.#t=n,this.parent.regexps_manager.filter_books(this.testaments,n),this.parent.translations_manager.apply_case_sensitive(n))}#e;get grammar(){return this.#e}set grammar(n){this.#e={...this.#e,...n},this.punctuation_strategy=this.punctuation_strategy}#n;get punctuation_strategy(){return this.#n}set punctuation_strategy(n){if(n!=="us"&&n!=="eu"){this.warn_level==="warn"&&console.warn(`punctuation_strategy should be set to "us" or "eu", not: ${n}`);return}this.#n=n,this.#e.c_sep=this.#e[`c_sep_${n}`],this.#e.cv_sep=this.#e[`cv_sep_${n}`],this.#e.sequence=this.#e[`sequence_${n}`]}};var Ae=class{constructor(n,e){this.books=[];this.indices=[];this.options=n,this.translations=e}handle_array(n,e=[],o={}){for(let l of n)l!=null&&([e,o]=this.handle_obj(l,e,o));return[e,o]}handle_obj(n,e,o){return n.type&&typeof this[n.type]=="function"?this[n.type](n,e,o):[e,o]}b(n,e,o){n.start_context=structuredClone(o),n.passages=[];let l=[];for(let c of this.books[n.value].parsed){let p=this.validate_ref(n.start_context.translations,{b:c}),_={start:{b:c},end:{b:c},valid:p};n.passages.length===0&&p.valid?n.passages.push(_):l.push(_)}return this.normalize_passage_and_alternates(n,l),e.push(n),o={b:n.passages[0].start.b},n.start_context.translations&&(o.translations=structuredClone(n.start_context.translations)),[e,o]}b_pre(n,e,o){return[e,o]}b_range(n,e,o){return this.range(n,e,o)}b_range_pre(n,e,o){n.start_context=structuredClone(o),n.passages=[];let l=this.pluck("b",n.value),c;return[[c],o]=this.b(l,[],o),n.absolute_indices??=this.get_absolute_indices(n.indices),n.passages=[{start:{b:n.value[0].value+c.passages[0].start.b.substring(1),type:"b"},end:c.passages[0].end,valid:c.passages[0].valid}],n.start_context.translations&&(n.passages[0].translations=structuredClone(n.start_context.translations)),e.push(n),[e,o]}b_range_start(n,e,o){return this.range(n,e,o)}base(n,e,o){return this.indices=this.calculate_indices(n.match,n.start_index),this.handle_array(n.value,e,o)}bc(n,e,o){n.start_context=structuredClone(o),n.passages=[],this.reset_context(o,["b","c","v"]);let l=this.pluck_integer("c",n.value),c=l.value,p=this.get_partial_verse(l),_=0,v=[];for(let I of this.books[this.pluck("b",n.value).value].parsed){let P="c",S=this.validate_ref(n.start_context.translations,{b:I,c}),y={start:{b:I},end:{b:I},valid:S};if((S.messages?.start_chapter_not_exist_in_single_chapter_book||S.messages?.start_verse_1||p!=null&&S.messages?.start_chapter_1)&&(y.valid=this.validate_ref(n.start_context.translations,{b:I,v:c}),S.messages?.start_chapter_not_exist_in_single_chapter_book&&(y.valid.messages.start_chapter_not_exist_in_single_chapter_book=1),y.start.c=1,y.end.c=1,P="v"),y.start[P]=c,[y.start.c,y.start.v]=this.fix_start_zeroes(y.valid,y.start.c,y.start.v),y.start.v==null&&delete y.start.v,y.end[P]=y.start[P],p!=null){let C=P==="v"?"p":"p_if_verse";y.start[C]=p,y.end[C]=p}n.passages.length===0&&y.valid.valid?(P==="c"&&p!=null&&(_=p.length*-1),n.passages.push(y)):v.push(y)}return this.normalize_passage_and_alternates(n,v,_),this.set_context_from_object(o,["b","c","v"],n.passages[0].start),e.push(n),[e,o]}bc_title(n,e,o){n.start_context=structuredClone(o);let l=this.pluck("bc",n.value),c;if([[c],o]=this.bc(l,[],o),c.passages[0].start.b.substring(0,2)!=="Ps"&&c.passages[0].alternates){for(let _ of c.passages[0].alternates)if(_.start.b.substring(0,2)==="Ps"){c.passages[0]=structuredClone(_);break}}if(c.passages[0].start.b.substring(0,2)!=="Ps")return e.push(c),[e,o];this.books[this.pluck("b",c.value).value].parsed=["Ps"];let p=this.pluck("title",n.value);return p||(p=this.pluck_integer("v",n.value)),n.value[1]={type:"v",original_type:"title",value:[{type:"integer",value:1,indices:p.indices}],indices:p.indices},n.type="bcv",this.bcv(n,e,n.start_context)}bcv(n,e,o){n.start_context=structuredClone(o),n.passages=[],this.reset_context(o,["b","c","v"]);let l=this.pluck("bc",n.value),c=this.pluck_integer("c",l.value).value,p=this.pluck_integer("v",n.value),_=p.value,v=this.get_partial_verse(p),I=[];for(let P of this.books[this.pluck("b",l.value).value].parsed){let S=this.validate_ref(n.start_context.translations,{b:P,c,v:_});[c,_]=this.fix_start_zeroes(S,c,_);let y={start:{b:P,c,v:_},end:{b:P,c,v:_},valid:S};v!=null&&(y.start.p=v,y.end.p=v),n.passages.length===0&&S.valid?n.passages.push(y):I.push(y)}return this.normalize_passage_and_alternates(n,I),this.set_context_from_object(o,["b","c","v"],n.passages[0].start),e.push(n),[e,o]}bv(n,e,o){n.start_context=structuredClone(o);let[l,c]=n.value,p={indices:n.indices,value:[{type:"bc",value:[l,{type:"c",value:[{type:"integer",value:1}]}]},c]};return[[p],o]=this.bcv(p,[],o),n.passages=p.passages,n.absolute_indices??=this.get_absolute_indices(n.indices),e.push(n),[e,o]}c(n,e,o){n.start_context=structuredClone(o);let l=n.type==="integer"?n:this.pluck("integer",n.value),c=l.value,p=this.get_partial_verse(l),_=this.validate_ref(n.start_context.translations,{b:o.b,c});return!_.valid&&_.messages?.start_chapter_not_exist_in_single_chapter_book?this.v(n,e,o):([c]=this.fix_start_zeroes(_,c),n.passages=[{start:{b:o.b,c},end:{b:o.b,c},valid:_}],n.start_context.translations&&(n.passages[0].translations=n.start_context.translations),p!=null&&(n.passages[0].start.p_if_verse=p,n.passages[0].end.p_if_verse=p),e.push(n),o.c=c,this.reset_context(o,["v"]),n.absolute_indices==null&&(n.absolute_indices=this.get_absolute_indices(n.indices)),[e,o])}c_psalm(n,e,o){n.type="bc";let l=parseInt(this.books[n.value].value.match(/^\d+/)[0],10);return n.value=[{type:"b",value:n.value,indices:n.indices},{type:"c",value:[{type:"integer",value:l,indices:n.indices}],indices:n.indices}],this.bc(n,e,o)}c_title(n,e,o){if(n.start_context=structuredClone(o),o.b!=="Ps")return this.c(n.value[0],e,o);let l=this.pluck("title",n.value);return n.value[1]={type:"v",original_type:"title",value:[{type:"integer",value:1,indices:l.indices}],indices:l.indices},n.type="cv",this.cv(n,e,n.start_context)}cb_range(n,e,o){n.type="range";let[l,c,p]=n.value;return n.value=[{type:"bc",value:[l,c],indices:n.indices},p],p.indices[1]=n.indices[1],this.range(n,e,o)}context(n,e,o){return n.start_context=structuredClone(o),n.passages=[],o=Object.assign(o,this.books[n.value].context),e.push(n),[e,o]}cv(n,e,o){n.start_context=structuredClone(o);let l=this.pluck_integer("c",n.value).value,c=this.pluck_integer("v",n.value),p=c.value,_=this.get_partial_verse(c),v=this.validate_ref(n.start_context.translations,{b:o.b,c:l,v:p});return[l,p]=this.fix_start_zeroes(v,l,p),n.passages=[{start:{b:o.b,c:l,v:p},end:{b:o.b,c:l,v:p},valid:v}],_!=null&&(n.passages[0].start.p=_,n.passages[0].end.p=_),n.start_context.translations&&(n.passages[0].translations=n.start_context.translations),n.absolute_indices??=this.get_absolute_indices(n.indices),o.c=l,o.v=p,e.push(n),[e,o]}cv_psalm(n,e,o){n.start_context=structuredClone(o),n.type="bcv";let[l,c]=n.value,[[p]]=this.c_psalm(l,[],n.start_context);return n.value=[p,c],this.bcv(n,e,o)}ff(n,e,o){n.start_context=structuredClone(o),n.value.push({type:"integer",indices:structuredClone(n.indices),value:999}),[[n],o]=this.range(n,[],n.start_context),n.value[0].indices=n.value[1].indices,n.value[0].absolute_indices=n.value[1].absolute_indices,n.value.pop();for(let l of["end_verse_not_exist","end_chapter_not_exist"])delete n.passages[0].valid.messages[l];return e.push(n),[e,o]}integer(n,e,o){return o.v==null?this.c(n,e,o):this.v(n,e,o)}integer_title(n,e,o){return n.start_context=structuredClone(o),o.b!=="Ps"?this.integer(n.value[0],e,o):(n.value[0]={type:"c",value:[n.value[0]],indices:structuredClone(n.value[0].indices)},n.value[1].type="v",n.value[1].original_type="title",n.value[1].value=[{type:"integer",value:1,indices:structuredClone(n.value[1].value.indices)}],n.type="cv",this.cv(n,e,n.start_context))}next_v(n,e,o){n.start_context=structuredClone(o);let l=this.pluck_last_recursively("integer",n.value)??{value:1};n.value.push({type:"integer",indices:n.indices,value:l.value+1});let c;[[c],o]=this.range(n,[],n.start_context),c.passages[0].valid.messages.end_verse_not_exist&&!c.passages[0].valid.messages.start_verse_not_exist&&!c.passages[0].valid.messages.start_chapter_not_exist&&o.c!=null&&(n.value.pop(),n.value.push({type:"cv",indices:n.indices,value:[{type:"c",value:[{type:"integer",value:o.c+1,indices:n.indices}],indices:n.indices},{type:"v",value:[{type:"integer",value:1,indices:n.indices}],indices:n.indices}]}),[[c],o]=this.range(n,[],n.start_context)),c.value[0].indices=c.value[1].indices,c.value[0].absolute_indices=c.value[1].absolute_indices,c.value.pop();for(let p of["end_verse_not_exist","end_chapter_not_exist"])delete n.passages[0].valid.messages[p];return e.push(c),[e,o]}sequence(n,e,o){n.start_context=structuredClone(o),n.passages=[];for(let l of n.value){let c;typeof l[0].explicit_context=="string"&&l[0].explicit_context==="c"&&delete o.v,[[c],o]=this.handle_array(l,[],o);for(let p of c.passages)p.type??=c.type,p.absolute_indices??=c.absolute_indices,c.start_context.translations&&(p.translations=c.start_context.translations),p.enclosed_absolute_indices=c.type==="sequence_post_enclosed"?[...c.absolute_indices]:[-1,-1],n.passages.push(p)}return n.absolute_indices||(n.passages.length>0&&n.type==="sequence"?n.absolute_indices=[n.passages[0].absolute_indices[0],n.passages[n.passages.length-1].absolute_indices[1]]:n.absolute_indices=this.get_absolute_indices(n.indices)),e.push(n),[e,o]}sequence_post_enclosed(n,e,o){return this.sequence(n,e,o)}v(n,e,o){n.start_context=structuredClone(o);let l=n.type==="integer"?n:this.pluck("integer",n.value),c=l.value,p=this.get_partial_verse(l),_=o.c!=null?o.c:1,v=this.validate_ref(n.start_context.translations,{b:o.b,c:_,v:c}),[,I]=this.fix_start_zeroes(v,0,c);return n.passages=[{start:{b:o.b,c:_,v:I},end:{b:o.b,c:_,v:I},valid:v}],n.start_context.translations&&(n.passages[0].translations=structuredClone(n.start_context.translations)),p!=null&&(n.passages[0].start.p=p,n.passages[0].end.p=p),n.absolute_indices??=this.get_absolute_indices(n.indices),e.push(n),o.v=I,[e,o]}range(n,e,o){n.start_context=structuredClone(o);let[l,c]=n.value;if([[l],o]=this.handle_obj(l,[],o),c.type==="v"&&this.options.end_range_digits_strategy==="verse"&&(l.type==="bc"&&!l.passages?.[0]?.valid?.messages?.start_chapter_not_exist_in_single_chapter_book||l.type==="c"))return n.value[0]=l,this.range_change_integer_end(n,e);[[c],o]=this.handle_obj(c,[],o),n.value=[l,c],n.indices=[l.indices[0],c.indices[1]],delete n.absolute_indices;let p={b:l.passages[0].start.b,c:l.passages[0].start.c,v:l.passages[0].start.v,type:l.type};l.passages[0].start.p!=null&&(p.p=l.passages[0].start.p),l.passages[0].start.p_if_verse!=null&&(p.p_if_verse=l.passages[0].start.p_if_verse);let _={b:c.passages[0].end.b,c:c.passages[0].end.c,v:c.passages[0].end.v,type:c.type};c.passages[0].end.p!=null&&(_.p=c.passages[0].end.p),c.passages[0].end.p_if_verse!=null&&(_.p=c.passages[0].end.p_if_verse),l.passages[0].start.p_if_verse!=null&&(p.p_if_verse=l.passages[0].start.p_if_verse),c.passages[0].valid.messages.start_chapter_is_zero&&(_.c=0),c.passages[0].valid.messages.start_verse_is_zero&&(_.v=0);let v=this.validate_ref(n.start_context.translations,p,_);if(v.valid){let[I,P]=this.range_handle_valid(v,n,l,p,c,_,e);if(I)return P}else return this.range_handle_invalid(v,n,l,p,c,_,e);return n.absolute_indices??=this.get_absolute_indices(n.indices),n.passages=[{start:p,end:_,valid:v}],n.start_context.translations&&(n.passages[0].translations=structuredClone(n.start_context.translations)),p.type==="b"?n.type=_.type==="b"?"b_range":"b_range_start":_.type==="b"&&(n.type="range_end_b"),e.push(n),[e,o]}range_change_end(n,e,o){let[l,c]=n.value;if(c.type==="integer")c.original_value=c.value,c.value=o;else if(c.type==="v"){let p=this.pluck("integer",c.value);p.original_value=p.value,p.value=o}else if(c.type==="cv"){let p=this.pluck_integer("c",c.value);p.original_value=p.value,p.value=o}return this.handle_obj(n,e,n.start_context)}range_change_integer_end(n,e){let[o,l]=n.value;return n.original_type??=n.type,n.original_value??=[o,l],n.type=o.type==="integer"?"cv":o.type+"v",o.type==="integer"&&(n.value[0]={type:"c",value:[o],indices:o.indices}),l.type==="integer"&&(n.value[1]={type:"v",value:[l],indices:l.indices}),this.handle_obj(n,e,n.start_context)}range_check_new_end(n,e,o,l){let c=0,p;if(l.messages?.end_chapter_before_start)p="c";else if(l.messages?.end_verse_before_start)p="v";else return c;if(c=this.range_get_new_end_value(e,o,l,p),c>0){let _={b:o.b,c:o.c,v:o.v};_[p]=c,this.validate_ref(n,_).valid||(c=0)}return c}range_end_b(n,e,o){return this.range(n,e,o)}range_get_new_end_value(n,e,o,l){let c=0;return l==="c"&&o.messages?.end_chapter_is_zero||l==="v"&&o.messages?.end_verse_is_zero||(n[l]>=10&&e[l]<10&&n[l]-10*Math.floor(n[l]/10)<e[l]?c=e[l]+10*Math.floor(n[l]/10):n[l]>=100&&e[l]<100&&n[l]-100<e[l]&&(c=e[l]+100)),c}range_handle_invalid(n,e,o,l,c,p,_){if(n.valid===!1&&(n.messages?.end_chapter_before_start||n.messages?.end_verse_before_start)&&(c.type==="integer"||c.type==="v")||n.valid===!1&&n.messages?.end_chapter_before_start&&c.type==="cv"){let v=this.range_check_new_end(e.start_context.translations,l,p,n);if(v>0)return this.range_change_end(e,_,v)}if(this.options.end_range_digits_strategy==="verse"&&l.v==null&&(c.type==="integer"||c.type==="v")){let v=c.type==="v"?this.pluck("integer",c.value):c.value;if(this.validate_ref(e.start_context.translations,{b:l.b,c:l.c,v}).valid)return this.range_change_integer_end(e,_)}return e.original_type??=e.type,e.type="sequence",[e.original_value,e.value]=[[o,c],[[o],[c]]],this.sequence(e,_,structuredClone(e.start_context))}range_handle_valid(n,e,o,l,c,p,_){if(n.messages?.end_chapter_not_exist&&this.options.end_range_digits_strategy==="verse"&&!l.v&&(c.type==="integer"||c.type==="v")&&this.options.passage_existence_strategy.indexOf("v")>=0){let v=c.type==="v"?this.pluck("integer",c.value):c.value;if(this.validate_ref(e.start_context.translations,{b:l.b,c:l.c,v}).valid)return[!0,this.range_change_integer_end(e,_)]}return this.range_validate(n,l,p,e),[!1,null]}range_validate(n,e,o,l){n.messages?.end_chapter_not_exist||n.messages?.end_chapter_not_exist_in_single_chapter_book?(o.c=n.messages.end_chapter_not_exist??n.messages.end_chapter_not_exist_in_single_chapter_book,o.v!=null&&(o.v=this.validate_ref(l.start_context.translations,{b:o.b,c:o.c,v:999}).messages.end_verse_not_exist,delete n.messages.end_verse_is_zero)):n.messages?.end_verse_not_exist&&(o.v=n.messages.end_verse_not_exist,delete o.p),n.messages?.end_verse_is_zero&&this.options.zero_verse_strategy!=="allow"&&(o.v=n.messages.end_verse_is_zero),n.messages?.end_chapter_is_zero&&(o.c=n.messages.end_chapter_is_zero),[e.c,e.v]=this.fix_start_zeroes(n,e.c,e.v)}stop(n,e,o){return n.start_context={},e.push(n),[e,{}]}translation_sequence(n,e,o){n.start_context=structuredClone(o);let l=[];l.push({translation:this.books[n.value[0].value].parsed,system:"default",osis:""});for(let c of n.value[1]){let p=this.books[this.pluck("translation",c).value].parsed;p&&l.push({translation:p,system:"default",osis:""})}for(let c of l)this.translations.aliases[c.translation]?(c.system=this.translations.aliases[c.translation].system,c.osis=this.translations.aliases[c.translation].osis||c.translation.toUpperCase()):c.osis=c.translation.toUpperCase();return e.length>0&&(o=this.translation_sequence_apply(e,l)),n.absolute_indices=this.get_absolute_indices(n.indices),e.push(n),this.reset_context(o,["translations"]),[e,o]}translation_sequence_apply(n,e){let o=0;for(let c=n.length-1;c>=0;c--)if(n[c].original_type&&(n[c].type=n[c].original_type),n[c].original_value&&(n[c].value=n[c].original_value),n[c].type==="translation_sequence"||n[c].type==="stop"){o=c+1;break}let l;return o<n.length?(n[o].start_context.translations=e,[,l]=this.handle_array(n.slice(o),[],n[o].start_context)):l=structuredClone(n[n.length-1].start_context),l}word(n,e,o){return[e,o]}pluck(n,e){for(let o of e)if(o&&o.type&&o.type===n)return o;return null}pluck_integer(n,e){return this.pluck("integer",this.pluck(n,e).value)}pluck_last_recursively(n,e){for(let o=e.length-1;o>=0;o--){let l=e[o];if(!l||!l.type)continue;if(l.type===n)return this.pluck(n,[l]);let c=this.pluck_last_recursively(n,l.value);if(c!=null)return c}return null}set_context_from_object(n,e,o){for(let l of e)o[l]!=null&&(n[l]=o[l])}reset_context(n,e){for(let o of e)delete n[o]}get_partial_verse(n){return n.type!=="integer"&&(n=this.pluck("integer",n.value)),typeof n.partial=="string"?n.partial:null}fix_start_zeroes(n,e,o=void 0){return n.messages?.start_chapter_is_zero&&this.options.zero_chapter_strategy==="upgrade"&&(e=n.messages.start_chapter_is_zero),n.messages?.start_verse_is_zero&&this.options.zero_verse_strategy==="upgrade"&&(o=n.messages.start_verse_is_zero),[e,o]}calculate_indices(n,e){let o="book",l=[],c=0;typeof e!="number"&&(e=parseInt(e,10));for(let p of n.split(/[\x1e\x1f]/)){o=o==="book"?"rest":"book";let _=p.length;if(_!==0)if(o==="book"){let v=parseInt(p.replace(/\/\d+$/,""),10),I=c+_;l.length>0&&l[l.length-1].index===e?l[l.length-1].end=I:l.push({start:c,end:I,index:e}),c+=_+2,e=this.books[v].start_index+this.books[v].value.length-c,l.push({start:I+1,end:I+1,index:e})}else{let v=c+_-1;l.length>0&&l[l.length-1].index===e?l[l.length-1].end=v:l.push({start:c,end:v,index:e}),c+=_}}return l}get_absolute_indices([n,e]){let o=null,l=null;for(let c of this.indices)if(o===null&&c.start<=n&&n<=c.end&&(o=n+c.index),c.start<=e&&e<=c.end){l=e+c.index+1;break}return[o,l]}normalize_passage_and_alternates(n,e,o=0){n.passages.length===0&&n.passages.push(e.shift()),e.length>0&&(n.passages[0].alternates=e),n.start_context.translations&&(n.passages[0].translations=n.start_context.translations),(n.absolute_indices==null||o!==0)&&(n.absolute_indices=this.get_absolute_indices(n.indices),o!==0&&(n.absolute_indices[1]+=o))}validate_ref(n,e,o=null){(!n||n.length===0||!Array.isArray(n))&&(n=[{osis:"",translation:"current",system:"current"}]);let l=!1,c={};for(let p of n){if(!p.system){c.translation_invalid??=[],c.translation_invalid.push(p);continue}this.translations.aliases[p.system]||(p.system="current",c.translation_unknown??=[],c.translation_unknown.push(p));let[_]=this.validate_start_ref(p.system,e,c);o&&([_]=this.validate_end_ref(p.system,e,o,_,c)),_===!0&&(l=!0)}return{valid:l,messages:c}}validate_end_ref(n,e,o,l,c){let p=this.translations.systems[n]?.order?n:"current";return o.c===0&&(c.end_chapter_is_zero=1,this.options.zero_chapter_strategy==="error"?l=!1:o.c=1),o.v===0&&(c.end_verse_is_zero=1,this.options.zero_verse_strategy==="error"?l=!1:this.options.zero_verse_strategy==="upgrade"&&(o.v=1)),o.b&&this.translations.systems[p].order[o.b]?l=this.validate_known_end_book(n,p,e,o,l,c):(l=!1,c.end_book_not_exist=!0),[l,c]}validate_known_end_book(n,e,o,l,c,p){let _=this.translations.systems[n]?.chapters?.[l.b]||this.translations.systems.current.chapters[l.b];return l.c==null&&_.length===1&&(l.c=1),this.translations.systems[e].order[o.b]!=null&&this.translations.systems[e].order[o.b]>this.translations.systems[e].order[l.b]&&(this.options.passage_existence_strategy.indexOf("b")>=0&&(c=!1),p.end_book_before_start=!0),o.b===l.b&&l.c!=null&&(o.c??=1,o.c>l.c?(c=!1,p.end_chapter_before_start=!0):o.c===l.c&&l.v!=null&&(o.v??=1,o.v>l.v&&(c=!1,p.end_verse_before_start=!0))),l.c!=null&&_[l.c-1]==null&&(_.length===1?p.end_chapter_not_exist_in_single_chapter_book=1:l.c>0&&this.options.passage_existence_strategy.indexOf("c")>=0&&(p.end_chapter_not_exist=_.length)),l.v!=null&&(l.c??=_.length,l.v>_[l.c-1]&&this.options.passage_existence_strategy.indexOf("v")>=0&&(p.end_verse_not_exist=_[l.c-1])),c}validate_known_start_book(n,e,o){let l=!0;e.c??=1;let c=this.translations.systems[n]?.chapters?.[e.b]||this.translations.systems.current.chapters[e.b];if(e.c===0&&(o.start_chapter_is_zero=1,this.options.zero_chapter_strategy==="error"?l=!1:e.c=1),e.v===0&&(o.start_verse_is_zero=1,this.options.zero_verse_strategy==="error"?l=!1:this.options.zero_verse_strategy==="upgrade"&&(e.v=1)),e.c>0&&c[e.c-1]!=null)e.v!=null?e.v>c[e.c-1]&&this.options.passage_existence_strategy.indexOf("v")>=0&&(l=!1,o.start_verse_not_exist=c[e.c-1]):e.c===1&&c.length===1&&(this.options.single_chapter_1_strategy==="verse"?o.start_verse_1=1:o.start_chapter_1=1);else{let p=c.length;e.c!==1&&p===1?(l=!1,o.start_chapter_not_exist_in_single_chapter_book=1):e.c>0&&this.options.passage_existence_strategy.indexOf("c")>=0&&(l=!1,o.start_chapter_not_exist=p)}return l}validate_start_ref(n,e,o){let l=!0,c=this.translations.systems[n]?.order?n:"current";return e.b?this.translations.systems[c].order[e.b]?l=this.validate_known_start_book(n,e,o):(this.options.passage_existence_strategy.indexOf("b")>=0&&(l=!1),o.start_book_not_exist=!0):(l=!1,o.start_book_not_defined=!0),[l,o]}};var rs=class{constructor(n){this.filtered_books_flags="";this.parent=n,this.filter_books("on","none")}filter_books(n,e){let o=n+"/"+e;o!==this.filtered_books_flags&&(this.filtered_books_flags=o,n==="ona"&&e==="none"&&(this.parent.regexps.books=this.parent.regexps.all_books),this.parent.regexps.books=this.parent.regexps.all_books.reduce((l,c)=>{let p;if(n!=="ona"&&n.indexOf(c.testament)===-1){if(c.testament.length===1||c.testament_books==null)return l;if(this.has_testament_overlap(n,c.testament)){let _=this.get_testament_overlap(n,c);if(_.length>0)p=structuredClone(c),p.osis=_;else return l}else return l}if(e.includes("books")){p??=structuredClone(c);let _=p.regexp.flags.replace("i","");p.regexp=new RegExp(c.regexp.source,_)}return l.push(p??c),l},[]))}has_testament_overlap(n,e){return new Set((n+e).split("")).size<n.length+e.length}get_testament_overlap(n,e){return e.osis.filter(l=>this.has_testament_overlap(n,e.testament_books[l]))}add_books(n){if(n==null||!Array.isArray(n.books))throw new Error("add_books: The argument to `add_books` should be an object with an array in `books`");let e=[],o=[];for(let l of n.books){if(l==null||!(l.regexp instanceof RegExp))throw new Error("add_books: The `regexp` property of each pattern should be a RegExp");let c=this.get_book_testaments(l),p=this.get_book_pattern_regexps(l,c),_=new RegExp(p.pre_regexp.source+p.regexp.source+p.post_regexp.source,"giu"),v=typeof l.insert_at=="string"?l.insert_at:"start",I={osis:l.osis,testament:c.testament,regexp:_};if(c.testament.length>1&&(I.testament_books=c.testament_books),v==="start")e.push(I);else if(v==="end")o.push(I);else{let P=!1;for(let[S,y]of this.parent.regexps.all_books.entries())if(y.osis.join(",")===v){this.parent.regexps.all_books.splice(S,0,I),P=!0;break}P===!1&&o.push(I)}}(e.length>0||o.length>0)&&(this.parent.regexps.all_books=[...e,...this.parent.regexps.all_books,...o]),this.filtered_books_flags="",this.filter_books(this.parent.options.testaments,this.parent.options.case_sensitive)}get_book_pattern_regexps(n,e){let o={pre_regexp:new RegExp(""),regexp:n.regexp,post_regexp:new RegExp("")};for(let l of["pre_regexp","post_regexp"])if(n[l]==null){let c=l==="pre_regexp"?"pre_book":"post_book";e.has_number_book&&c==="pre_book"&&(c="pre_number_book"),o[l]=this.parent.regexps[c]}else if(n[l]instanceof RegExp)o[l]=n[l];else throw new Error("add_books: The `"+l+"` property of each pattern should be a RegExp");return o}get_book_testaments(n){let e=n.osis;if(!Array.isArray(e))throw new Error("add_books: The `osis` property of each pattern should be an array");let o={testament_books:{},has_number_book:!1,testament:""},l=new Set;for(let c of e){if(typeof c!="string"||this.parent.translations.systems.default.order[c]==null)throw new Error("add_books: Unknown book in pattern: "+c);if(c in o.testament_books)throw new Error("add_books: Every provided book should be unique. Duplicate: "+c);let p="o";if(c==="Ps")o.testament_books[c]="oa",l.add("o"),l.add("a");else{let _=this.parent.translations.systems.default.order[c];_>=40&&(p=_<=66?"n":"a"),/^\d/.test(c)&&/\d/.test(n.regexp.source)&&(o.has_number_book=!0),o.testament_books[c]=p,l.add(p)}}if(l.size===1)o.testament=l.values().next().value;else for(let c of["o","n","a"])l.has(c)&&(o.testament+=c);return o}};var as=class{constructor(n){this.parent=n}translation_info(n="default"){(typeof n!="string"||!n)&&(n="default"),this.parent.translations.aliases[n]?.system&&(n=this.parent.translations.aliases[n].system),this.parent.translations.systems[n]==null&&(this.parent.options.warn_level==="warn"&&console.warn("Unknown translation `"+new_translation+"` in translation_info(). Using default instead."),n="default");let e=this.parent.options.versification_system;this.parent.options.versification_system=n;let o={alias:n,books:[],chapters:structuredClone(this.parent.translations.systems.current.chapters),order:structuredClone(this.parent.translations.systems.current.order),system:n};for(let[l,c]of Object.entries(o.order))o.books[c-1]=l;return n!==e&&(this.parent.options.versification_system=e),o}add_translations(n){if(n?.translations==null||!Array.isArray(n.translations)||n.translations.length===0)throw new Error("add_translations: A `translations array in the `translations` key should have at least one object");let e={},o=[];for(let l of n.translations){let c=this.normalize_sent_translation_data(l),p=l.text.toLowerCase();if(p==="default"||p==="current")throw new Error("add_translations: Can't redefine `"+p+"` as a translation. This built-in translation can't be redefined");let _=c.system;if(_!=="default"&&this.parent.translations.systems[c.system]==null)if(n.systems!=null&&n.systems[_]!=null)this.add_system(c.system,n.systems[_]);else{let v=Object.keys(this.parent.translations.systems);throw v=v.filter(I=>I!=="current"),new Error("add_translations: Unknown translation `system`: `"+_+"`. Valid `system`s are: `"+Object.keys(v).join("`, `")+"`. You may want to check that you included this system in `systems`")}else if(_==="current")throw new Error("add_translations: Can't use `"+_+"` as a versification system for a new translation");e[p]!=null||this.parent.translations.aliases[p]!=null?this.parent.options.warn_level==="warn"&&console.warn("add_translations: `"+l.text+"` already exists. You probably only want to do this if the old definition was wrong"):o.push(l.text),e[p]=c}o.length>0&&this.add_new_translations_regexp(o,n),this.parent.translations.aliases={...e,...this.parent.translations.aliases}}apply_case_sensitive(n){let e=n.includes("translations")?"g":"gi";for(let[o,l]of this.parent.regexps.translations.entries())this.parent.regexps.translations[o]=new RegExp(l.source,e)}normalize_sent_translation_data(n){let e=n.text;if(e==null||typeof e!="string"||e.length===0)throw new Error('add_translations: Each translation object should contain a string `text` key with a value like "KJV"');if(e.match(/^\p{N}+$/u))throw new Error("add_translations: A translation.text (`"+e+"`) can't be all numbers because then it would conflict with chapter and verse references.");let o=typeof n.osis=="string"&&n.osis!==""?n.osis:n.text.toUpperCase(),l=typeof n.system=="string"&&n.system.length>0?n.system:"default";return{osis:o,system:l}}add_system(n,e){if(n==="default"||n==="current")throw new Error("add_translations: Can't use `"+n+"` as a versification system. This built-in system can't be redefined");if(e==null||e.books==null&&e.chapters==null)throw new Error("add_translations: The system object should contain `books` key, a `chapters` key or both");if(this.parent.translations.systems[n]!=null)return;let o={};if(e.books!=null){if(!Array.isArray(e.books)||e.books.length===0)throw new Error("add_translations: The `books` key in each `system` object should be an array with at least one string in it");o.books=this.make_system_books(e.books)}if(e.chapters!=null){if(typeof e.chapters!="object"||Object.keys(e.chapters).length===0)throw new Error("add_translations: The `chapters` key in the each `system` object should be an object with at least one key");this.validate_system_chapters(e.chapters),o.chapters=structuredClone(e.chapters)}this.parent.translations.systems[n]=o}make_system_books(n){let e=structuredClone(this.parent.translations.systems.default.order),o={},l=1;for(let p of n){if(typeof p!="string"||e[p]==null)throw new Error("add_translations: Got an unexpected OSIS value in `books` (also check for any duplicates): "+p);delete e[p],o[p]=l,l++}let c=Object.keys(e).sort((p,_)=>e[p]-e[_]);for(let p of c)o[p]=l,l++;return o}validate_system_chapters(n){let e=this.parent.translations.systems.default.order;for(let[o,l]of Object.entries(n)){if(e[o]==null)throw new Error("add_translations: Unexpected book: "+o);if(!Array.isArray(l)||l.length==0)throw new Error("add_translations: Each value in `chapters` should be an array with at least one entry containing the number of verses in each chapter. Check `"+o+"`");for(let c of l)if(!(typeof c=="number"&&c>=1&&c<=200))throw new Error("add_translations: Unexpected value in `chapters`: "+c+"`. It should be a number between 1 and 200")}}add_new_translations_regexp(n,e){n.length>1&&(n=n.sort((v,I)=>I.length-v.length));let o=e.insert_at==="end"?"end":"start",l=e?.pre_regexp instanceof RegExp?e?.pre_regexp:{source:""},c=e?.post_regexp instanceof RegExp?e?.post_regexp:/(?![\p{L}\p{N}])/u,p=this.parent.options.case_sensitive.includes("translations")?"g":"gi",_=new RegExp(l.source+"("+n.map(v=>v.replace(/([$\\.*+?()\[\]{}|^])/g,"\\$1")).join("|")+")"+c.source,p);o==="start"?this.parent.regexps.translations.unshift(_):this.parent.regexps.translations.push(_)}};var Ft=class{constructor(){this.books=[];this.languages=["en"];this.translations=[/(?:N(?:RSVUE|ABRE|ASB|IV|[EL]T)|N(?:RSV|A[BS])|HCSB|(?:N(?:IR|KJ)|AS|E[RS]|KJ|RS)V|TNIV|AMP|CE[BV]|LXX|MSG|CSB)\b/gi];this.escaped_passage=/(?:^|[^\x1e\x1f\p{L}\p{N}])((?:(?:ch(?:apters?|a?pts?\.?|a?p?s?\.?)?\s*\d+\s*(?:[\u2013\u2014\-]|through|thru|to)\s*\d+\s*(?:from|of|in)(?:\s+the\s+book\s+of)?\s*)|(?:ch(?:apters?|a?pts?\.?|a?p?s?\.?)?\s*\d+\s*(?:from|of|in)(?:\s+the\s+book\s+of)?\s*)|(?:\d+(?:th|nd|st)\s*ch(?:apter|a?pt\.?|a?p?\.?)?\s*(?:from|of|in)(?:\s+the\s+book\s+of)?\s*))?\x1f(\d+)(?:\/\d+)?\x1f(?:\/\d+\x1f|[\d\s.:,;\x1e\x1f&\(\)（）\[\]\\/"'\*=~\-–—]|title(?![a-z])|ff(?![a-z0-9])|f(?![a-z0-9])|see\s+also|chapters|chapter|through|compare|chapts|verses|chpts|chapt|chaps|verse|chap|thru|also|chp|chs|cha|and|see|ver|vss|ch|to|cf|vs|vv|v|[a-e](?!\w)|$)+)/giu;this.match_end_split=/\d\W*title|\d\W*(?:ff(?![a-z0-9])|f(?![a-z0-9]))(?:[\s*]*\.)?|\d[\s*]*[a-e](?!\w)|\x1e(?:[\s*]*[)\]\uff09])?|[\d\x1f]/gi;this.control=/[\x1e\x1f]/g;this.first=/(?:1st|1|I|First)\.?\s*/;this.second=/(?:2nd|2|II|Second)\.?\s*/;this.third=/(?:3rd|3|III|Third)\.?\s*/;this.range_and=/(?:[&\u2013\u2014-]|(?:and|compare|cf|see\s+also|also|see)|(?:through|thru|to))/;this.range_only=/(?:[\u2013\u2014-]|(?:through|thru|to))/;this.pre_book=/(?:^|(?<=[^\p{L}]))/gu;this.pre_number_book=/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))/gu;this.post_book=/(?:(?=[\d\s\.?:,;\x1e\x1f&\(\)（）\[\]\/"’'\*=~\-–—])|$)/gu;this.all_books=[{osis:["Ps"],testament:"a",extra:"2",regexp:/\b(Ps151)(?=\.1\b)/g},{osis:["Gen"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(G(?:en(?:n(?:(?:eis[eiu]|si)s|ees[eiu]s|i(?:[ei]s[eiu]s|s[eiu]s)|es[eiu]s)|(?:e(?:is[eiu]|su)|si)s|ees[eiu]s|i(?:[ei]s[eiu]s|s[eiu]s)|es[ei]s)|e(?:n(?:neis|es[ei]|eis)?)?|n))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Exod"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(Ex(?:o(?:d(?:[iu]s|[es])?)?|d)?)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Bel"],testament:"a",regexp:/(?:^|(?<=[^\p{L}]))(Bel(?:\s*(?:and\s*(?:the\s*(?:S(?:erpent|nake)|Dragon)|S(?:erpent|nake)|Dragon)|&\s*(?:the\s*(?:S(?:erpent|nake)|Dragon)|S(?:erpent|nake)|Dragon)))?)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Lev"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(L(?:evit(?:[ei])?cus|evet(?:[ei])?cus|iv[ei]t(?:[ei])?cus|e(?:vi?)?|v))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Num"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(N(?:u(?:m(?:b(?:ers?)?)?)?|m))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Sir"],testament:"a",regexp:/(?:^|(?<=[^\p{L}]))((?:The\s*Wisdom\s*of\s*Jesus(?:,\s*Son\s*of|\s*(?:Son\s*of|ben))\s*Sirach|Wisdom\s*of\s*Jesus(?:,\s*Son\s*of|\s*(?:Son\s*of|ben))\s*Sirach|Ecc(?:l[eu]siasticus|s)|Ben\s*Sira|Ecclus|Sirach|Sir))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Wis"],testament:"a",regexp:/(?:^|(?<=[^\p{L}]))((?:The\s*Wis(?:d?om|d?)\s*of\s*Solomon|Wis(?:d(?:om)?\s*|\s*)of\s*Solomon|Wisom\s*of\s*Solomon|Wis(?:d(?:om)?)?))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Lam"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(L(?:am[ei]ntations|a(?:m(?:[ei]ntation)?)?|m))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["EpJer"],testament:"a",regexp:/(?:^|(?<=[^\p{L}]))((?:The\s*(?:(?:Ep(?:istle|\.)|Ep)\s*of\s*Jeremiah|Let(?:ter|\.?)\s*of\s*Jeremiah)|Ep(?:(?:(?:istle\s*of\s*Jeremiah|(?:istle\s*of\s*Jeremy|\s*?Jer))|\s*of\s*Jeremiah)|\.\s*of\s*Jeremiah)|Let(?:ter|\.?)\s*of\s*Jeremiah))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Rev"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))(R(?:ev(?:e?|[ao])lations|e(?:v(?:elation|[ao]lation|lation|el)?)?|v))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["PrMan"],testament:"a",regexp:/(?:^|(?<=[^\p{L}]))((?:The\s*Pr(?:ayer(?:s\s*(?:of\s*)?Manasseh|\s*(?:of\s*)?Manasseh)|\s*(?:of\s*)?Manasseh)|Prayer(?:s\s*(?:of\s*)?Manasseh|\s*(?:of\s*)?Manasseh)|Pr\s*of\s*Manasseh|Pr\s*Manasseh|Pr\s*?Man))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Deut"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(D(?:eut[eo]rono?my|eet(?:[eo]rono?my|rono?my)|u(?:et[eo]rono?my|ut(?:[eo]rono?my|rono?my)|et(?:rono?my)?)|eutrono?my|eut?|t))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Josh"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(J(?:o(?:(?:ush?ua|sh?ua)|sh?)|sh))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Judg"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(J(?:udg(?:es)?|d?gs|d?g))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Ruth"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(R(?:u(?:th?)?|th?))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["1Esd"],testament:"a",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:First\s*Esd(?:r(?:as)?)?|(?:(?:1st|I)|1)\.\s*Esd(?:r(?:as)?)?|(?:(?:1st|I)|1)\s*Esd(?:r(?:as)?)?|1Esd))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["2Esd"],testament:"a",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:Second\s*Esd(?:r(?:as)?)?|(?:2(?:nd)?|II)\.\s*Esd(?:r(?:as)?)?|(?:2(?:nd)?|II)\s*Esd(?:r(?:as)?)?|2Esd))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Isa"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(I(?:s(?:ai[ai](?:[ai])?ha|aa(?:[ai](?:[ai])?ha|ha)|i(?:[ai](?:[ai](?:[ai])?ha|ha)|ha)|ai[ai](?:[ai])?h|aa(?:[ai](?:[ai])?h|h)|i[ai](?:[ai](?:[ai])?h|h)|(?:aish|ai?h)a|aish|ai?h|sah|ai?)?|a))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["2Sam"],testament:"o",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:Second\s*(?:Kingdoms|S(?:(?:amu[ae]l[ls]|ma)|(?:a(?:m(?:u[ae]l)?)?|m)))|(?:2(?:nd)?|II)\.\s*(?:Kingdoms|S(?:(?:amu[ae]l[ls]|ma)|(?:a(?:m(?:u[ae]l)?)?|m)))|(?:2nd|II)\s*(?:Kingdoms|S(?:(?:amu[ae]l[ls]|ma)|(?:a(?:m(?:u[ae]l)?)?|m)))|2(?:\s*Kingdoms|(?:(?:(?:\s*Samu[ae]l[ls]|Sam)|\s*Sma)|\s*S(?:(?:a(?:m(?:u[ae]l)?)?)?|m)))))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["1Sam"],testament:"o",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:First\s*(?:Kingdoms|S(?:(?:amu[ae]l[ls]|ma)|(?:a(?:m(?:u[ae]l)?)?|m)))|(?:(?:1st|I)|1)\.\s*(?:Kingdoms|S(?:(?:amu[ae]l[ls]|ma)|(?:a(?:m(?:u[ae]l)?)?|m)))|(?:1st|I)\s*(?:Kingdoms|S(?:(?:amu[ae]l[ls]|ma)|(?:a(?:m(?:u[ae]l)?)?|m)))|1\s*Kingdoms|1\s*Samu[ae]l[ls]|1\s*Sa(?:m(?:u[ae]l)?)?|Samu[ae]l[ls]|Samu[ae]l|1\s*Sma|1\s*Sm|1Sam|1\s*S))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["2Kgs"],testament:"o",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:Fourth\s*Kingdoms|(?:4(?:th)?\.|IV\.)\s*Kingdoms|Second\s*K(?:i?ng?s|(?:i?g|i?)s)|(?:4(?:th)?\s*|IV\s*)Kingdoms|Second\s*K(?:i?ng?|i?g|i)?|(?:2(?:nd)?|II)\.\s*K(?:i?ng?s|(?:i?g|i?)s)|(?:2(?:nd)?|II)\.\s*K(?:i?ng?|i?g|i)?|(?:2(?:nd)?|II)\s*K(?:i?ng?s|(?:i?g|i?)s)|(?:2(?:nd)?|II)\s*K(?:i?ng?|i?g|i)?|2Kgs))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["1Kgs"],testament:"o",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:Third\s*Kingdoms|(?:III\.|3(?:rd)?\.)\s*Kingdoms|(?:III\s*|3(?:rd)?\s*)Kingdoms|First\s*K(?:i?ng?s|(?:i?g)?s)|First\s*K(?:i?ng?|i?g|i)?|(?:1(?:st)?\.|I\.)\s*K(?:i?ng?s|(?:i?g)?s)|(?:1(?:st)?\.|I\.)\s*K(?:i?ng?|i?g|i)?|(?:1(?:st)?\s*|I\s*)K(?:i?ng?s|(?:i?g)?s)|(?:1(?:st)?\s*|I\s*)K(?:i?ng?|i?g|i)?|(?:K(?:(?:in)?|n)g|1Kg)s|Kin))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["2Chr"],testament:"o",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:Second\s*(?:Paralipomenon|C(?:(?:h?oron[io]cles|hr(?:(?:onicals|n)|onicles)|(?:hrono|ron[io])cles)|(?:h?oron[io]cle|hronicle|(?:hrono|ron[io])cle|hr(?:on?)?|ron)))|(?:2(?:nd)?|II)\.\s*(?:Paralipomenon|C(?:(?:h?oron[io]cles|hr(?:(?:onicals|n)|onicles)|(?:hrono|ron[io])cles)|(?:h?oron[io]cle|hronicle|(?:hrono|ron[io])cle|hr(?:on?)?|ron)))|(?:2nd|II)\s*(?:Paralipomenon|C(?:(?:h?oron[io]cles|hr(?:(?:onicals|n)|onicles)|(?:hrono|ron[io])cles)|(?:h?oron[io]cle|hronicle|(?:hrono|ron[io])cle|hr(?:on?)?|ron)))|2\s*Paralipomenon|2\s*Ch?oron[io]cles|2\s*Ch?oron[io]cle|2(?:(?:\s*Chr(?:onicals|n)|Chr)|\s*Chronicles)|2\s*C(?:hrono|ron[io])cles|2\s*C(?:hronicle|(?:h(?:r(?:on?)?)?|ron))|2\s*C(?:hrono|ron[io])cle))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["1Chr"],testament:"o",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:(?:First\s*|(?:(?:(?:1st|I)|1)\.\s*|(?:(?:1st|I)\s*|(?:1\s*)?)))Paralipomenon|First\s*C(?:h(?:(?:oronicles|r(?:onicals|n))|ronicles)|(?:ho?rono|ron[io])cles|oron[io]cles)|First\s*C(?:(?:ho?rono|ron[io])cle|hronicle|oron[io]cle|hr(?:on?)?|ron)|(?:(?:1st|I)|1)\.\s*C(?:h(?:(?:oronicles|r(?:onicals|n))|ronicles)|(?:ho?rono|ron[io])cles|oron[io]cles)|(?:(?:1st|I)|1)\.\s*C(?:(?:ho?rono|ron[io])cle|hronicle|oron[io]cle|hr(?:on?)?|ron)|(?:1st|I)\s*C(?:h(?:(?:oronicles|r(?:onicals|n))|ronicles)|(?:ho?rono|ron[io])cles|oron[io]cles)|(?:1st|I)\s*C(?:(?:ho?rono|ron[io])cle|hronicle|oron[io]cle|hr(?:on?)?|ron)|1\s*Choronicles|(?:(?:1\s*Cho|(?:1\s*)?Ch)rono|1\s*Cron[io])cles|(?:(?:1\s*Cho|(?:1\s*)?Ch)rono|1\s*Cron[io])cle|(?:1\s*)?Chronicals|(?:1\s*)?Chronicles|(?:1\s*Co|Ch?o)ron[io]cles|(?:1\s*)?Chronicle|(?:1\s*Co|Ch?o)ron[io]cle|Cron[io]cles|Cron[io]cle|1\s*C(?:h(?:r(?:on?)?)?|ron)|1(?:\s*Chrn|Chr)))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Ezra"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(E(?:zra?|sra))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Neh"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(Ne(?:h(?:[ei]m(?:a[ai](?:[ai])?h|i(?:a[ai]h|i(?:[ai])?h|a?h|a)|ah)|amiah|amia)?)?)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["GkEsth"],testament:"a",regexp:/(?:^|(?<=[^\p{L}]))((?:Esther\s*\(Greek\)|G(?:(?:r(?:eek\s*Esther|\s*Esth)|k\s*?Esth)|(?:r(?:eek\s*Esth?|\s*Est)|k\s*Est))))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Esth"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(Es(?:t(?:h?er|hr|h)?)?)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Job"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(Jo?b)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Ps"],testament:"oa",testament_books:{Ps:"oa"},extra:"1",regexp:/\b((?:(?:(?:1[02-5]|[2-9])?(?:1\s*st|2\s*nd|3\s*rd))|1?1[123]\s*th|(?:150|1[0-4][04-9]|[1-9][04-9]|[4-9])\s*th)\s*Psalm)\b/gi},{osis:["Ps"],testament:"oa",testament_books:{Ps:"oa"},regexp:/(?:^|(?<=[^\p{L}]))((?:P(?:s(?:a(?:(?:lm[alm]|ml?m)|lam)|m(?:alm|l)|lam)|l(?:a(?:sm)?a|s(?:sss|a?m)))s?|P(?:s(?:a[al]l|lal)|a(?:ls|sl))ms?|P(?:(?:s(?:a(?:(?:lm?s|m(?:l[as]|s)|aa)|las)|m(?:als|m)|lm[ms]|sm)|la(?:sm?s|ms)|(?:s(?:a(?:ma|am)|lma)|l(?:ama|m))s|a(?:s(?:(?:ml|s)|m)s|(?:l[lm]|m[ls])s))|(?:s(?:a(?:lm?|ml?)?|ala|m(?:al?)?|l[am]|s)?|l(?:a(?:sm?|m)|s(?:ss?|a))))|Salms?))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["PrAzar"],testament:"a",regexp:/(?:^|(?<=[^\p{L}]))((?:The\s*Pr(?:ayer(?:s\s*of\s*Azariah?|\s*of\s*Azariah?)|\s*of\s*Azariah?)|Prayer(?:s\s*of\s*Azariah?|\s*of\s*Azariah?)|Pr\s*of\s*Azariah?|Pr(?:\s*Aza|Aza?)r|Azariah?))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Prov"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))((?:P(?:rob|o)verbs|P(?:(?:(?:(?:r(?:(?:(?:over|v)|ver)|ever)bs|v)|r(?:overb|everb|verb|ov?|vb|v)?)|rovebs)|roberbs)|Porverbs|Oroverbs))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Eccl"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))((?:Ec(?:(?:(?:(?:cles(?:i?aia|sai)s|cles(?:i(?:ai)?s|ai?s)|clesiias)t|(?:cles(?:i(?:asti|t)|ait)|clesias?t))es|clesiaas?tes|clessias?tes|les(?:(?:i(?:aia)?s|ias?)tes|sias?tes))|(?:clesiaste|c(?:l(?:es(?:iast)?)?)?|clesiate|l(?:esiaste)?)?)|Qo(?:h(?:eleth)?)?))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["SgThree"],testament:"a",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:The\s*Song\s*of\s*(?:the\s*(?:Three\s*(?:Holy\s*Children|Young\s*Men|(?:Youth|Jew)s)|3\s*(?:Holy\s*Children|Young\s*Men|(?:Youth|Jew)s))|Three\s*(?:Holy\s*Children|Young\s*Men|(?:Youth|Jew)s)|3\s*(?:Holy\s*Children|Young\s*Men|(?:Youth|Jew)s))|S(?:ong\s*of\s*(?:the\s*(?:Three\s*(?:Holy\s*Children|Young\s*Men|(?:Youth|Jew)s)|3\s*(?:Holy\s*Children|Young\s*Men|(?:Youth|Jew)s))|Three\s*(?:Holy\s*Children|Young\s*Men|(?:Youth|Jew)s)|3\s*(?:Holy\s*Children|Young\s*Men|(?:Youth|Jew)s))|(?:(?:\.\s*(?:of\s*(?:Th(?:ree(?:\.\s*(?:Ch|Y)|\s*(?:Ch|Y))|\.\s*(?:Ch|Y)|\s*(?:Ch|Y))|3(?:\.\s*(?:Ch|Y)|\s*(?:Ch|Y)))|Th(?:ree(?:\.\s*(?:Ch|Y)|\s*(?:Ch|Y))|\.\s*(?:Ch|Y)|\s*(?:Ch|Y))|3(?:\.\s*(?:Ch|Y)|\s*(?:Ch|Y)))|\s*(?:of\s*(?:Th(?:ree(?:\.\s*(?:Ch|Y)|\s*(?:Ch|Y))|\.\s*(?:Ch|Y)|\s*(?:Ch|Y))|3(?:\.\s*(?:Ch|Y)|\s*(?:Ch|Y)))|Th(?:ree(?:\.\s*(?:Ch|Y)|\s*(?:Ch|Y))|\.\s*(?:Ch|Y)|\s*(?:Ch|Y))|3(?:\.\s*(?:Ch|Y)|\s*(?:Ch|Y)))|ong\s*Three|(?:ng\s*|g)Three|g\s*Three)|g\s*Thr))))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Song"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))((?:The\s*Song(?:s\s*of\s*S(?:o(?:lom[ao]ns?|ngs?)|alom[ao]ns?)|\s*of\s*S(?:o(?:lom[ao]ns?|ngs?)|alom[ao]ns?))|Songs?\s*of\s*S(?:o(?:lom[ao]ns?|ngs?)|alom[ao]ns?)|S(?:(?:\s*of\s*S|o[Sl]|S)|o(?:n(?:gs?)?)?)|Sn?gs?))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Jer"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(J(?:er(?:(?:em(?:aia|ii)|am[ai]i|im(?:i[ai]|a))h|em(?:(?:(?:ai?h|ie)|iah)|iha)|am(?:i(?:ah|ha)|ah)|imih|aiah|m[im]ah)|e(?:r(?:emia|emih|ami[ah]|e(?:mi)?)?)?|r))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Ezek"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(E(?:ze[ei]ki?el|zi(?:[ei]ki?el|ki?el)|x[ei](?:[ei]ki?el|ki?el)|zek(?:i[ae]|e)l|z(?:ek?|k)))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Dan"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(D(?:ani[ae]l|an?|[ln]))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Hos"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(H(?:osea|os?|s))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Joel"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(J(?:oel?|l))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Amos"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(Am(?:o?s|o)?)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Obad"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(Ob(?:adiah|a(?:d(?:ia)?)?|idah|d)?)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Jonah"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(J(?:on(?:ah)?|nh))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Mic"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(Mi(?:c(?:hah?|ah?)?)?)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Nah"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(Na(?:h(?:um?)?)?)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Hab"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(Hab(?:bak(?:k[au]kk?|[au]kk?)|ak(?:k[au]kk?|[au]kk?)|k)?)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Zeph"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(Z(?:ephanaiah?|ephaniah?|a(?:phaniah?|faniah?)|efaniah?|eph?|ph?))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Hag"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(H(?:ag(?:gia[hi]|g?ai|g)?|gg?))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Zech"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(Z(?:a(?:(?:ch[ae]r(?:(?:a[ai]|a)h|ii?h)|kariah)|ch?)|(?:ach[ae]ria|c)h?|e(?:c(?:h[ae]r(?:(?:a[ai]|a)h|ii?h)|h?)|ch[ae]riah?|kariah?)))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Mal"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(Mal(?:ach?i|ichi|ach)?)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Matt"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))((?:The\s*Gospel\s*(?:according\s*to\s*(?:S(?:aint\s*M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)|t(?:\.\s*M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)|\s*M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)))|M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t))|of\s*(?:S(?:aint\s*M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)|t(?:\.\s*M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)|\s*M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)))|M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)))|Gospel\s*(?:according\s*to\s*(?:S(?:aint\s*M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)|t(?:\.\s*M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)|\s*M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)))|M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t))|of\s*(?:S(?:aint\s*M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)|t(?:\.\s*M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)|\s*M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)))|M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)))|S(?:aint\s*M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)|t(?:\.\s*M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)|\s*M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|t)))|M(?:at(?:t(?:h[ht]|th)i?ew|h(?:[ht](?:[ht]i?ew|i?ew)|i?ew)|t(?:h?|t)iew|th?we|t(?:h?|t)ew|t)?|tt?)))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Mark"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))((?:The\s*Gospel\s*(?:according\s*to\s*(?:S(?:aint\s*M(?:ark?|rk?|k)|t(?:\.\s*M(?:ark?|rk?|k)|\s*M(?:ark?|rk?|k)))|M(?:ark?|rk?|k))|of\s*(?:S(?:aint\s*M(?:ark?|rk?|k)|t(?:\.\s*M(?:ark?|rk?|k)|\s*M(?:ark?|rk?|k)))|M(?:ark?|rk?|k)))|Gospel\s*(?:according\s*to\s*(?:S(?:aint\s*M(?:ark?|rk?|k)|t(?:\.\s*M(?:ark?|rk?|k)|\s*M(?:ark?|rk?|k)))|M(?:ark?|rk?|k))|of\s*(?:S(?:aint\s*M(?:ark?|rk?|k)|t(?:\.\s*M(?:ark?|rk?|k)|\s*M(?:ark?|rk?|k)))|M(?:ark?|rk?|k)))|S(?:aint\s*M(?:ark?|rk?|k)|t(?:\.\s*M(?:ark?|rk?|k)|\s*M(?:ark?|rk?|k)))|M(?:ark?|rk?|k)))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Luke"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))((?:The\s*Gospel\s*(?:according\s*to\s*(?:S(?:aint\s*L(?:u(?:ke?)?|k)|t(?:\.\s*L(?:u(?:ke?)?|k)|\s*L(?:u(?:ke?)?|k)))|L(?:u(?:ke?)?|k))|of\s*(?:S(?:aint\s*L(?:u(?:ke?)?|k)|t(?:\.\s*L(?:u(?:ke?)?|k)|\s*L(?:u(?:ke?)?|k)))|L(?:u(?:ke?)?|k)))|Gospel\s*(?:according\s*to\s*(?:S(?:aint\s*L(?:u(?:ke?)?|k)|t(?:\.\s*L(?:u(?:ke?)?|k)|\s*L(?:u(?:ke?)?|k)))|L(?:u(?:ke?)?|k))|of\s*(?:S(?:aint\s*L(?:u(?:ke?)?|k)|t(?:\.\s*L(?:u(?:ke?)?|k)|\s*L(?:u(?:ke?)?|k)))|L(?:u(?:ke?)?|k)))|S(?:aint\s*L(?:u(?:ke?)?|k)|t(?:\.\s*L(?:u(?:ke?)?|k)|\s*L(?:u(?:ke?)?|k)))|L(?:u(?:ke?)?|k)))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["1John"],testament:"n",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:First\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|oh?|h?n|h)|(?:(?:1st|I)|1)\.\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|oh?|h?n|h)|(?:(?:1st|I)|1)\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|oh?|h?n|h)|1John))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["2John"],testament:"n",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:Second\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|oh?|h?n|h)|(?:2(?:nd)?|II)\.\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|oh?|h?n|h)|(?:2(?:nd)?|II)\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|oh?|h?n|h)|2John))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["3John"],testament:"n",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:Third\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|oh?|h?n|h)|(?:3(?:rd)?|III)\.\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|oh?|h?n|h)|(?:3(?:rd)?|III)\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|oh?|h?n|h)|3John))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["John"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))((?:The\s*Gospel\s*(?:according\s*to\s*(?:S(?:aint\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)|t(?:\.\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)|\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)))|J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n))|of\s*(?:S(?:aint\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)|t(?:\.\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)|\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)))|J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)))|Gospel\s*(?:according\s*to\s*(?:S(?:aint\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)|t(?:\.\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)|\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)))|J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n))|of\s*(?:S(?:aint\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)|t(?:\.\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)|\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)))|J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)))|S(?:aint\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)|t(?:\.\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)|\s*J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)))|J(?:o?phn|o(?:h[mn]|nh)|(?:h[ho]|oo)n|o?h|h?n)))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Acts"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))((?:The\s*Acts\s*of\s*the\s*Apostles|Ac(?:ts\s*of\s*the\s*Apostles|(?:tsss|(?:t(?:ss?)?)?))))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Rom"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))(R(?:omands|o(?:m(?:a(?:ns|sn)|s)|s)|oamns|pmans|o(?:m(?:an)?)?|mn?s|mn?))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["2Cor"],testament:"n",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:Second\s*C(?:or(?:i(?:(?:inthii|nthii|nthoi|tho)|thii)|n(?:in?thi|thii)|rin?thi)ans|(?:or(?:i(?:(?:n(?:thi(?:an[ao]|na)|ithina)|thin)|nthan)|i(?:ni)?than|n(?:in?than|thin))|or(?:in|ni)thain)s|(?:or(?:i(?:(?:n(?:(?:t(?:hi(?:a[ai]|o)|i[ao])|ithia)|thoa)|inthia)|thia)|i(?:ni)?thai|n(?:inthai|thia))|or(?:in|ni)thaia|or(?:rin?tha|ntha)i)ns|orin[an]thians|hor(?:(?:(?:(?:inth(?:ia|ai)|inthi)|ithia)|nthia)|anthia)ns|o(?:r(?:inthia?ns|thians)|(?:r(?:in(?:t(?:h(?:ian)?)?)?|th(?:ian)?)?)?)|oranthians)|(?:2(?:nd)?|II)\.\s*C(?:or(?:i(?:(?:inthii|nthii|nthoi|tho)|thii)|n(?:in?thi|thii)|rin?thi)ans|(?:or(?:i(?:(?:n(?:thi(?:an[ao]|na)|ithina)|thin)|nthan)|i(?:ni)?than|n(?:in?than|thin))|or(?:in|ni)thain)s|(?:or(?:i(?:(?:n(?:(?:t(?:hi(?:a[ai]|o)|i[ao])|ithia)|thoa)|inthia)|thia)|i(?:ni)?thai|n(?:inthai|thia))|or(?:in|ni)thaia|or(?:rin?tha|ntha)i)ns|orin[an]thians|hor(?:(?:(?:(?:inth(?:ia|ai)|inthi)|ithia)|nthia)|anthia)ns|o(?:r(?:inthia?ns|thians)|(?:r(?:in(?:t(?:h(?:ian)?)?)?|th(?:ian)?)?)?)|oranthians)|(?:2(?:nd)?|II)\s*C(?:or(?:i(?:(?:inthii|nthii|nthoi|tho)|thii)|n(?:in?thi|thii)|rin?thi)ans|(?:or(?:i(?:(?:n(?:thi(?:an[ao]|na)|ithina)|thin)|nthan)|i(?:ni)?than|n(?:in?than|thin))|or(?:in|ni)thain)s|(?:or(?:i(?:(?:n(?:(?:t(?:hi(?:a[ai]|o)|i[ao])|ithia)|thoa)|inthia)|thia)|i(?:ni)?thai|n(?:inthai|thia))|or(?:in|ni)thaia|or(?:rin?tha|ntha)i)ns|orin[an]thians|hor(?:(?:(?:(?:inth(?:ia|ai)|inthi)|ithia)|nthia)|anthia)ns|o(?:r(?:inthia?ns|thians)|(?:r(?:in(?:t(?:h(?:ian)?)?)?|th(?:ian)?)?)?)|oranthians)|2Cor))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["1Cor"],testament:"n",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:(?:(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Coriinthii|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corinthii|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corinthoi|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corn(?:in?thi|thii)|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corrin?thi|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corithii|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Coritho)ans|(?:(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corinthi(?:an[ao]|na)|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corinithina|(?:(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corin|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Cor)ithan|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corn(?:in?than|thin)|(?:(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corin|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corni)thain|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corinthan|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corithin)s|(?:(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corinthi(?:a[ai]|o)|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corinithia|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Coriinthia|(?:(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corin|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Cor)ithai|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corn(?:inthai|thia)|(?:(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corin|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corni)thaia|(?:(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corrin?tha|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corntha)i|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corinthoa|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corinti[ao]|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corithia)ns|(?:First\s*Corin[an]|(?:(?:1st|I)|1)\.\s*Corin[an]|(?:(?:1st|I)|1)\s*Corin[an])thians|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Chor(?:(?:(?:(?:inth(?:ia|ai)|inthi)|ithia)|nthia)|anthia)ns|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corinthia?ns|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Coranthians|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Corinthian|First\s*Corthians|First\s*Co(?:r(?:th(?:ian)?|in(?:th?)?)?)?|(?:(?:1st|I)|1)\.\s*Corthians|(?:(?:1st|I)|1)\.\s*Co(?:r(?:th(?:ian)?|in(?:th?)?)?)?|(?:(?:1st|I)|1)\s*Corthians|C(?:or(?:i(?:(?:inthii|nthii|nthoi|tho)|thii)|n(?:in?thi|thii)|rin?thi)ans|(?:or(?:i(?:(?:n(?:thi(?:an[ao]|na)|ithina)|thin)|nthan)|i(?:ni)?than|n(?:in?than|thin))|or(?:in|ni)thain)s|(?:or(?:i(?:(?:n(?:(?:t(?:hi(?:a[ai]|o)|i[ao])|ithia)|thoa)|inthia)|thia)|i(?:ni)?thai|n(?:inthai|thia))|or(?:in|ni)thaia|or(?:rin?tha|ntha)i)ns|orin[an]thians|hor(?:(?:(?:(?:inth(?:ia|ai)|inthi)|ithia)|nthia)|anthia)ns|orinthi(?:a?ns|an))|(?:(?:1st|I)|1)\s*Co(?:r(?:th(?:ian)?|in(?:th?)?)?)?|1Cor))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Gal"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))(G(?:al(?:at(?:i(?:an[ai]|nan|on[an])|a?n|on)s|at(?:i(?:a[ai]|oa)|a[ao]|oa)ns|at[ai]i(?:[ao])?ns|lati(?:[ao])?ns|at(?:i(?:an?s|na?s|on?s)|as))|a(?:l(?:a(?:t(?:ian)?)?)?)?|l))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Eph"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))(E(?:pehesians|sphesians|ph(?:es(?:ian[ds]|ains)|isians|sians)|phesions|hp[ei]sians|p(?:h(?:e(?:s(?:ian)?)?|esain|isian|sian|s)?)?|pesians|hp))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Phil"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))(Ph(?:il(?:l(?:ip(?:pi?ai|aia|i(?:a[ai]|ea))|p(?:ie|a))|ippia[ai]|ip(?:pai|e)a|ipp?ie|ipaia|pai)ns|il(?:l(?:ip(?:(?:pi[ei]|ii)|ppi)|l(?:ip[ip]i|pp?i))|ipp?ii|ppii|pppi|pe)ans|il(?:(?:ipppi|(?:ippe|i?pi))ans|l(?:(?:ip(?:pian|ai?n|ian)|(?:ipp?ea|pp?ia)n)|lipian)s|ip(?:pian|(?:p[ai]n|ai?n))s|ppians|pan)|i(?:l(?:(?:ipppi|(?:ippe|i?pi))an|l(?:i(?:p(?:pian|ai?n|ian)|p?)|(?:ipp?ea|pp?ia)n|lipian)|ip(?:pian|(?:p[ai]n|ai?n))|ppian|i(?:pp?)?|pp?)?)?|il(?:(?:ip(?:pai|e)|i?pi)n|lip(?:ie?n|p[ai]n))s|l(?:ip(?:p?ians|p)?|pp?)|p))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Col"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))(C(?:al(?:l(?:os(?:sia|i[ao])ns|asi[ao]ns)|(?:[ao]s|[ao])si[ao]ns)|o(?:lossians|(?:l(?:oss(?:ian)?)?)?)|(?:oloss(?:io|a)|(?:(?:olas|ol[ao])|oll[ao])si[ao])ns))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["2Thess"],testament:"n",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:Second\s*Th(?:es(?:(?:(?:(?:salon(?:i(?:c(?:i[ae]|a)|[ao]a|io|e)|aia|cie|oa)|salon(?:oi|e)a|sallonia|al(?:oni[ci]a|lonia|onio))n|(?:(?:s(?:alon[ai]n|olonin)|alonin)|s))|s?elonain)s|salon(?:ain|i[ao]n)s?|(?:so|a)lonians?|s?elonians?|olonians?|s)?|sss?|s)?|(?:2(?:nd)?|II)\.\s*Th(?:es(?:(?:(?:(?:salon(?:i(?:c(?:i[ae]|a)|[ao]a|io|e)|aia|cie|oa)|salon(?:oi|e)a|sallonia|al(?:oni[ci]a|lonia|onio))n|(?:(?:s(?:alon[ai]n|olonin)|alonin)|s))|s?elonain)s|salon(?:ain|i[ao]n)s?|(?:so|a)lonians?|s?elonians?|olonians?|s)?|sss?|s)?|(?:2(?:nd)?|II)\s*Th(?:es(?:(?:(?:(?:salon(?:i(?:c(?:i[ae]|a)|[ao]a|io|e)|aia|cie|oa)|salon(?:oi|e)a|sallonia|al(?:oni[ci]a|lonia|onio))n|(?:(?:s(?:alon[ai]n|olonin)|alonin)|s))|s?elonain)s|salon(?:ain|i[ao]n)s?|(?:so|a)lonians?|s?elonians?|olonians?|s)?|sss?|s)?|2Thess))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["1Thess"],testament:"n",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:(?:(?:(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thessalonic(?:i[ae]|a)|(?:First\s*Thessaloni[ao]|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thessalonai|(?:(?:1st|I)|1)\.\s*Thessaloni[ao]|(?:(?:1st|I)|1)\s*Thessaloni[ao])a|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thessaloniio|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thessaloncie|(?:(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thessalonoi|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thessalone|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thesaloni[ci])a|(?:(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thes|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*The)sallonia|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thessalonie|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thessalonoa|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thesalonio)n|(?:First\s*Thess?e|(?:(?:1st|I)|1)\.\s*Thess?e|(?:(?:1st|I)|1)\s*Thess?e)lonain|First\s*Thessalonin|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thessalonan|(?:(?:1st|I)|1)\.\s*Thessalonin|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thesalonin|(?:(?:1st|I)|1)\s*Thessalonin|1Thes)s|(?:(?:(?:(?:First\s*Thessaloni[ao]|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thessalonai|(?:(?:1st|I)|1)\.\s*Thessaloni[ao]|(?:(?:1st|I)|1)\s*Thessaloni[ao])n|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thss)|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thess)|(?:(?:First\s*Thess?e|(?:(?:1st|I)|1)\.\s*Thess?e|(?:(?:1st|I)|1)\s*Thess?e)|(?:(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thesa|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Theso))lonian)s|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thessoloni(?:ans?|ns)|(?:First\s*Thessaloni[ao]|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thessalonai|(?:(?:1st|I)|1)\.\s*Thessaloni[ao]|(?:(?:1st|I)|1)\s*Thessaloni[ao])n|(?:(?:First\s*Thess?e|(?:(?:1st|I)|1)\.\s*Thess?e|(?:(?:1st|I)|1)\s*Thess?e)|(?:(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thesa|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Theso))lonian|Thes(?:s(?:(?:al(?:on(?:i(?:c(?:i[ae]|a)|[ao]a|io)|aia|cie|oa)|on(?:oi|e)a|lonia)n|elonain|alon[ai]n)s|(?:alon(?:ain|i[ao]n)|elonian)s|oloni(?:ans?|ns)|alon(?:ain|i[ao]n)|elonian)|(?:(?:(?:aloni[ci]a|allonia|alonio)|aloni)|elonai)ns|(?:[ao]|e)lonians|(?:[ao]|e)lonian)|First\s*Th(?:ess?|s)?|(?:(?:1st|I)|1)\.\s*Th(?:ess?|s)?|(?:First|(?:(?:(?:1st|I)|1)\.|(?:(?:1st|I)|1)))\s*Thss|(?:(?:1st|I)|1)\s*Th(?:ess?|s)?))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["2Tim"],testament:"n",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:Second\s*T(?:himothy|imoth?y|himoty|omothy|i(?:m(?:oth)?)?|m)|(?:2(?:nd)?|II)\.\s*T(?:himothy|imoth?y|himoty|omothy|i(?:m(?:oth)?)?|m)|(?:2(?:nd)?|II)\s*T(?:himothy|imoth?y|himoty|omothy|i(?:m(?:oth)?)?|m)|2Tim))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["1Tim"],testament:"n",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:First\s*T(?:himothy|imoth?y|himoty|omothy|i(?:m(?:oth)?)?|m)|(?:(?:1st|I)|1)\.\s*T(?:himothy|imoth?y|himoty|omothy|i(?:m(?:oth)?)?|m)|(?:(?:1st|I)|1)\s*T(?:himothy|imoth?y|himoty|omothy|i(?:m(?:oth)?)?|m)|Timothy|Timoth|1Tim))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Titus"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))(Ti(?:t(?:us)?)?)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Phlm"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))(Ph(?:ile(?:m(?:on)?)?|l[ei]mon|l?mn|l?m))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Heb"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))(H(?:e[ew]breww?s|w(?:[ew]breww?s|breww?s)|eb(?:r(?:(?:eww|we)|rw)|e(?:rw|w[erw])|w(?:er|re))s|eb(?:r(?:ew?s|ws|s)|(?:rew)?)|breww?s))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Jas"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))(J(?:(?:ame|m)s?|a(?:m?|s)))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["2Pet"],testament:"n",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:Second\s*P(?:(?:ete|t)r?|et?r|et?)?|(?:2(?:nd)?|II)\.\s*P(?:(?:ete|t)r?|et?r|et?)?|(?:2(?:nd)?|II)\s*P(?:(?:ete|t)r?|et?r|et?)?|2Pet))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["1Pet"],testament:"n",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:First\s*P(?:(?:ete|t)r?|et?r|et?)?|(?:(?:1st|I)|1)\.\s*P(?:(?:ete|t)r?|et?r|et?)?|(?:(?:1st|I)|1)\s*P(?:(?:ete|t)r?|et?r|et?)?|Peter|1Pet))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Jude"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))(Ju?de)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Tob"],testament:"a",regexp:/(?:^|(?<=[^\p{L}]))(T(?:ob(?:i(?:as|t)|i|t)?|b))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Jdt"],testament:"a",regexp:/(?:^|(?<=[^\p{L}]))(J(?:ud(?:ith?|th?)|d(?:ith?|th?)))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Bar"],testament:"a",regexp:/(?:^|(?<=[^\p{L}]))(B(?:ar(?:uch)?|r))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Sus"],testament:"a",regexp:/(?:^|(?<=[^\p{L}]))(S(?:us(?:annah|(?:anna)?)|hoshana))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["2Macc"],testament:"a",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:Second\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|e|s)?|ab(?:b(?:e(?:(?:ee?s|s)|(?:ee?)?)|be(?:e[es]|e|s)?)|e(?:(?:ee?s|s)|(?:ee?)?))|cabe(?:ee?)?|c(?:ca|ab)bbe|cc?)?|(?:2(?:nd)?|II)\.\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|e|s)?|ab(?:b(?:e(?:(?:ee?s|s)|(?:ee?)?)|be(?:e[es]|e|s)?)|e(?:(?:ee?s|s)|(?:ee?)?))|cabe(?:ee?)?|c(?:ca|ab)bbe|cc?)?|(?:2nd|II)\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|e|s)?|ab(?:b(?:e(?:(?:ee?s|s)|(?:ee?)?)|be(?:e[es]|e|s)?)|e(?:(?:ee?s|s)|(?:ee?)?))|cabe(?:ee?)?|c(?:ca|ab)bbe|cc?)?|2(?:\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|e|s)?|ab(?:b(?:e(?:(?:ee?s|s)|(?:ee?)?)|be(?:e[es]|e|s)?)|e(?:(?:ee?s|s)|(?:ee?)?))|cabe(?:ee?)?|c(?:ca|ab)bbe|cc?)?|(?:(?:Mac|\s*M)c|\s*Ma))))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["3Macc"],testament:"a",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:Third\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|e|s)?|ab(?:b(?:e(?:(?:ee?s|s)|(?:ee?)?)|be(?:e[es]|e|s)?)|e(?:(?:ee?s|s)|(?:ee?)?))|cabe(?:ee?)?|c(?:ca|ab)bbe|cc?)?|(?:3(?:rd)?|III)\.\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|e|s)?|ab(?:b(?:e(?:(?:ee?s|s)|(?:ee?)?)|be(?:e[es]|e|s)?)|e(?:(?:ee?s|s)|(?:ee?)?))|cabe(?:ee?)?|c(?:ca|ab)bbe|cc?)?|(?:3rd|III)\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|e|s)?|ab(?:b(?:e(?:(?:ee?s|s)|(?:ee?)?)|be(?:e[es]|e|s)?)|e(?:(?:ee?s|s)|(?:ee?)?))|cabe(?:ee?)?|c(?:ca|ab)bbe|cc?)?|3(?:\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|e|s)?|ab(?:b(?:e(?:(?:ee?s|s)|(?:ee?)?)|be(?:e[es]|e|s)?)|e(?:(?:ee?s|s)|(?:ee?)?))|cabe(?:ee?)?|c(?:ca|ab)bbe|cc?)?|(?:Mac|\s*M)c)))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["4Macc"],testament:"a",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:Fourth\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|e|s)?|ab(?:b(?:e(?:(?:ee?s|s)|(?:ee?)?)|be(?:e[es]|e|s)?)|e(?:(?:ee?s|s)|(?:ee?)?))|cabe(?:ee?)?|c(?:ca|ab)bbe|cc?)?|(?:4(?:th)?|IV)\.\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|e|s)?|ab(?:b(?:e(?:(?:ee?s|s)|(?:ee?)?)|be(?:e[es]|e|s)?)|e(?:(?:ee?s|s)|(?:ee?)?))|cabe(?:ee?)?|c(?:ca|ab)bbe|cc?)?|(?:4th|IV)\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|e|s)?|ab(?:b(?:e(?:(?:ee?s|s)|(?:ee?)?)|be(?:e[es]|e|s)?)|e(?:(?:ee?s|s)|(?:ee?)?))|cabe(?:ee?)?|c(?:ca|ab)bbe|cc?)?|4(?:\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|e|s)?|ab(?:b(?:e(?:(?:ee?s|s)|(?:ee?)?)|be(?:e[es]|e|s)?)|e(?:(?:ee?s|s)|(?:ee?)?))|cabe(?:ee?)?|c(?:ca|ab)bbe|cc?)?|(?:Mac|\s*M)c)))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["1Macc"],testament:"a",regexp:/(?:^|(?<=[^\p{L}\p{N}])(?<!\d:(?=\d)))((?:First\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|s)|ab(?:b(?:e(?:ee?s|s)|be(?:e[es]|s))|e(?:ee?s|s)))|First\s*Mac(?:cabe(?:ee?)?|c(?:ca|ab)bbe|c(?:ca|ab)bee?|ab(?:b(?:e(?:ee?)?|bee?)|e(?:ee?)?)|cc?)?|(?:(?:1st|I)|1)\.\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|s)|ab(?:b(?:e(?:ee?s|s)|be(?:e[es]|s))|e(?:ee?s|s)))|(?:(?:1st|I)|1)\.\s*Mac(?:cabe(?:ee?)?|c(?:ca|ab)bbe|c(?:ca|ab)bee?|ab(?:b(?:e(?:ee?)?|bee?)|e(?:ee?)?)|cc?)?|(?:1st|I)\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|s)|ab(?:b(?:e(?:ee?s|s)|be(?:e[es]|s))|e(?:ee?s|s)))|(?:1st|I)\s*Mac(?:cabe(?:ee?)?|c(?:ca|ab)bbe|c(?:ca|ab)bee?|ab(?:b(?:e(?:ee?)?|bee?)|e(?:ee?)?)|cc?)?|1(?:\s*Mac(?:c(?:cabbbe|abe(?:ee?s|s))|c(?:ca|ab)bbe[es]|c(?:ca|ab)be(?:e[es]|s)|ab(?:b(?:e(?:ee?s|s)|be(?:e[es]|s))|e(?:ee?s|s)))|(?:Mac|\s*M)c)|1\s*Ma(?:c(?:cabe(?:ee?)?|c(?:ca|ab)bbe|c(?:ca|ab)bee?|ab(?:b(?:e(?:ee?)?|bee?)|e(?:ee?)?)|cc?)?)?|Maccabees))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Ezek","Ezra"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(Ez)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Hab","Hag"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(Ha)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Heb","Hab"],testament:"on",testament_books:{Hab:"o",Heb:"n"},regexp:/(?:^|(?<=[^\p{L}]))(Hb)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["John","Jonah","Job","Josh","Joel"],testament:"on",testament_books:{Job:"o",Joel:"o",John:"n",Jonah:"o",Josh:"o"},regexp:/(?:^|(?<=[^\p{L}]))(Jo)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Jude","Judg"],testament:"on",testament_books:{Jude:"n",Judg:"o"},regexp:/(?:^|(?<=[^\p{L}]))(J(?:ud?|d))(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Matt","Mark","Mal"],testament:"on",testament_books:{Mal:"o",Mark:"n",Matt:"n"},regexp:/(?:^|(?<=[^\p{L}]))(Ma)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Phil","Phlm"],testament:"n",regexp:/(?:^|(?<=[^\p{L}]))(Ph)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu},{osis:["Zeph","Zech"],testament:"o",regexp:/(?:^|(?<=[^\p{L}]))(Ze)(?:(?=[\d\s.:,;\x1e\x1f&\(\)（）\[\]\/"'\*=~\-–—])|$)/giu}]}},ls=class{constructor(){this.aliases={asv:{system:"kjv"},ceb:{system:"ceb"},csb:{system:"csb"},hcsb:{system:"csb"},kjv:{system:"kjv"},lxx:{system:"nab"},nab:{system:"nab"},nabre:{system:"nab"},nas:{system:"default",osis:"NASB"},net:{system:"csb"},nirv:{system:"kjv"},niv:{system:"kjv"},nkjv:{system:"kjv"},nlt:{system:"nlt"},nrsv:{system:"nrsv"},nrsvue:{system:"nrsvue"},tniv:{system:"kjv"},current:{system:"current",osis:""},default:{system:"default",osis:""}};this.current_system="default";this.systems={current:{},default:{order:{Gen:1,Exod:2,Lev:3,Num:4,Deut:5,Josh:6,Judg:7,Ruth:8,"1Sam":9,"2Sam":10,"1Kgs":11,"2Kgs":12,"1Chr":13,"2Chr":14,Ezra:15,Neh:16,Esth:17,Job:18,Ps:19,Prov:20,Eccl:21,Song:22,Isa:23,Jer:24,Lam:25,Ezek:26,Dan:27,Hos:28,Joel:29,Amos:30,Obad:31,Jonah:32,Mic:33,Nah:34,Hab:35,Zeph:36,Hag:37,Zech:38,Mal:39,Matt:40,Mark:41,Luke:42,John:43,Acts:44,Rom:45,"1Cor":46,"2Cor":47,Gal:48,Eph:49,Phil:50,Col:51,"1Thess":52,"2Thess":53,"1Tim":54,"2Tim":55,Titus:56,Phlm:57,Heb:58,Jas:59,"1Pet":60,"2Pet":61,"1John":62,"2John":63,"3John":64,Jude:65,Rev:66,Tob:67,Jdt:68,GkEsth:69,Wis:70,Sir:71,Bar:72,PrAzar:73,Sus:74,Bel:75,SgThree:76,EpJer:77,"1Macc":78,"2Macc":79,"3Macc":80,"4Macc":81,"1Esd":82,"2Esd":83,PrMan:84},chapters:{Gen:[31,25,24,26,32,22,24,22,29,32,32,20,18,24,21,16,27,33,38,18,34,24,20,67,34,35,46,22,35,43,55,32,20,31,29,43,36,30,23,23,57,38,34,34,28,34,31,22,33,26],Exod:[22,25,22,31,23,30,25,32,35,29,10,51,22,31,27,36,16,27,25,26,36,31,33,18,40,37,21,43,46,38,18,35,23,35,35,38,29,31,43,38],Lev:[17,16,17,35,19,30,38,36,24,20,47,8,59,57,33,34,16,30,37,27,24,33,44,23,55,46,34],Num:[54,34,51,49,31,27,89,26,23,36,35,16,33,45,41,50,13,32,22,29,35,41,30,25,18,65,23,31,40,16,54,42,56,29,34,13],Deut:[46,37,29,49,33,25,26,20,29,22,32,32,18,29,23,22,20,22,21,20,23,30,25,22,19,19,26,68,29,20,30,52,29,12],Josh:[18,24,17,24,15,27,26,35,27,43,23,24,33,15,63,10,18,28,51,9,45,34,16,33],Judg:[36,23,31,24,31,40,25,35,57,18,40,15,25,20,20,31,13,31,30,48,25],Ruth:[22,23,18,22],"1Sam":[28,36,21,22,12,21,17,22,27,27,15,25,23,52,35,23,58,30,24,42,15,23,29,22,44,25,12,25,11,31,13],"2Sam":[27,32,39,12,25,23,29,18,13,19,27,31,39,33,37,23,29,33,43,26,22,51,39,25],"1Kgs":[53,46,28,34,18,38,51,66,28,29,43,33,34,31,34,34,24,46,21,43,29,53],"2Kgs":[18,25,27,44,27,33,20,29,37,36,21,21,25,29,38,20,41,37,37,21,26,20,37,20,30],"1Chr":[54,55,24,43,26,81,40,40,44,14,47,40,14,17,29,43,27,17,19,8,30,19,32,31,31,32,34,21,30],"2Chr":[17,18,17,22,14,42,22,18,31,19,23,16,22,15,19,14,19,34,11,37,20,12,21,27,28,23,9,27,36,27,21,33,25,33,27,23],Ezra:[11,70,13,24,17,22,28,36,15,44],Neh:[11,20,32,23,19,19,73,18,38,39,36,47,31],Esth:[22,23,15,17,14,14,10,17,32,3],Job:[22,13,26,21,27,30,21,22,35,22,20,25,28,22,35,22,16,21,29,29,34,30,17,25,6,14,23,28,25,31,40,22,33,37,16,33,24,41,30,24,34,17],Ps:[6,12,8,8,12,10,17,9,20,18,7,8,6,7,5,11,15,50,14,9,13,31,6,10,22,12,14,9,11,12,24,11,22,22,28,12,40,22,13,17,13,11,5,26,17,11,9,14,20,23,19,9,6,7,23,13,11,11,17,12,8,12,11,10,13,20,7,35,36,5,24,20,28,23,10,12,20,72,13,19,16,8,18,12,13,17,7,18,52,17,16,15,5,23,11,13,12,9,9,5,8,28,22,35,45,48,43,13,31,7,10,10,9,8,18,19,2,29,176,7,8,9,4,8,5,6,5,6,8,8,3,18,3,3,21,26,9,8,24,13,10,7,12,15,21,10,20,14,9,6],Prov:[33,22,35,27,23,35,27,36,18,32,31,28,25,35,33,33,28,24,29,30,31,29,35,34,28,28,27,28,27,33,31],Eccl:[18,26,22,16,20,12,29,17,18,20,10,14],Song:[17,17,11,16,16,13,13,14],Isa:[31,22,26,6,30,13,25,22,21,34,16,6,22,32,9,14,14,7,25,6,17,25,18,23,12,21,13,29,24,33,9,20,24,17,10,22,38,22,8,31,29,25,28,28,25,13,15,22,26,11,23,15,12,17,13,12,21,14,21,22,11,12,19,12,25,24],Jer:[19,37,25,31,31,30,34,22,26,25,23,17,27,22,21,21,27,23,15,18,14,30,40,10,38,24,22,17,32,24,40,44,26,22,19,32,21,28,18,16,18,22,13,30,5,28,7,47,39,46,64,34],Lam:[22,22,66,22,22],Ezek:[28,10,27,17,17,14,27,18,11,22,25,28,23,23,8,63,24,32,14,49,32,31,49,27,17,21,36,26,21,26,18,32,33,31,15,38,28,23,29,49,26,20,27,31,25,24,23,35],Dan:[21,49,30,37,31,28,28,27,27,21,45,13],Hos:[11,23,5,19,15,11,16,14,17,15,12,14,16,9],Joel:[20,32,21],Amos:[15,16,15,13,27,14,17,14,15],Obad:[21],Jonah:[17,10,10,11],Mic:[16,13,12,13,15,16,20],Nah:[15,13,19],Hab:[17,20,19],Zeph:[18,15,20],Hag:[15,23],Zech:[21,13,10,14,11,15,14,23,17,12,17,14,9,21],Mal:[14,17,18,6],Matt:[25,23,17,25,48,34,29,34,38,42,30,50,58,36,39,28,27,35,30,34,46,46,39,51,46,75,66,20],Mark:[45,28,35,41,43,56,37,38,50,52,33,44,37,72,47,20],Luke:[80,52,38,44,39,49,50,56,62,42,54,59,35,35,32,31,37,43,48,47,38,71,56,53],John:[51,25,36,54,47,71,53,59,41,42,57,50,38,31,27,33,26,40,42,31,25],Acts:[26,47,26,37,42,15,60,40,43,48,30,25,52,28,41,40,34,28,41,38,40,30,35,27,27,32,44,31],Rom:[32,29,31,25,21,23,25,39,33,21,36,21,14,23,33,27],"1Cor":[31,16,23,21,13,20,40,13,27,33,34,31,13,40,58,24],"2Cor":[24,17,18,18,21,18,16,24,15,18,33,21,14],Gal:[24,21,29,31,26,18],Eph:[23,22,21,32,33,24],Phil:[30,30,21,23],Col:[29,23,25,18],"1Thess":[10,20,13,18,28],"2Thess":[12,17,18],"1Tim":[20,15,16,16,25,21],"2Tim":[18,26,17,22],Titus:[16,15,15],Phlm:[25],Heb:[14,18,19,16,14,20,28,13,28,39,40,29,25],Jas:[27,26,18,17,20],"1Pet":[25,25,22,19,14],"2Pet":[21,22,18],"1John":[10,29,24,21,21],"2John":[13],"3John":[15],Jude:[25],Rev:[20,29,22,11,14,17,17,13,21,11,19,17,18,20,8,21,18,24,21,15,27,21],Tob:[22,14,17,21,22,18,16,21,6,13,18,22,17,15],Jdt:[16,28,10,15,24,21,32,36,14,23,23,20,20,19,14,25],GkEsth:[22,23,15,17,14,14,10,17,32,13,12,6,18,19,16,24],Wis:[16,24,19,20,23,25,30,21,18,21,26,27,19,31,19,29,21,25,22],Sir:[30,18,31,31,15,37,36,19,18,31,34,18,26,27,20,30,32,33,30,31,28,27,27,34,26,29,30,26,28,25,31,24,33,31,26,31,31,34,35,30,22,25,33,23,26,20,25,25,16,29,30],Bar:[22,35,37,37,9],PrAzar:[68],Sus:[64],Bel:[42],SgThree:[39],EpJer:[73],"1Macc":[64,70,60,61,68,63,50,32,73,89,74,53,53,49,41,24],"2Macc":[36,32,40,50,27,31,42,36,29,38,38,45,26,46,39],"3Macc":[29,33,30,21,51,41,23],"4Macc":[35,24,21,26,38,35,23,29,32,21,27,19,27,20,32,25,24,24],"1Esd":[58,30,24,63,73,34,15,96,55],"2Esd":[40,48,36,52,56,59,70,63,47,59,46,51,58,48,63,78],PrMan:[15],Ps151:[7]}},vulgate:{chapters:{Gen:[31,25,24,26,32,22,24,22,29,32,32,20,18,24,21,16,27,33,38,18,34,24,20,67,34,35,46,22,35,43,55,32,20,31,29,43,36,30,23,23,57,38,34,34,28,34,31,22,32,25],Exod:[22,25,22,31,23,30,25,32,35,29,10,51,22,31,27,36,16,27,25,26,36,31,33,18,40,37,21,43,46,38,18,35,23,35,35,38,29,31,43,36],Lev:[17,16,17,35,19,30,38,36,24,20,47,8,59,57,33,34,16,30,37,27,24,33,44,23,55,45,34],Num:[54,34,51,49,31,27,89,26,23,36,34,15,34,45,41,50,13,32,22,30,35,41,30,25,18,65,23,31,39,17,54,42,56,29,34,13],Josh:[18,24,17,25,16,27,26,35,27,44,23,24,33,15,63,10,18,28,51,9,43,34,16,33],Judg:[36,23,31,24,32,40,25,35,57,18,40,15,25,20,20,31,13,31,30,48,24],"1Sam":[28,36,21,22,12,21,17,22,27,27,15,25,23,52,35,23,58,30,24,43,15,23,28,23,44,25,12,25,11,31,13],"1Kgs":[53,46,28,34,18,38,51,66,28,29,43,33,34,31,34,34,24,46,21,43,29,54],"1Chr":[54,55,24,43,26,81,40,40,44,14,46,40,14,17,29,43,27,17,19,7,30,19,32,31,31,32,34,21,30],Neh:[11,20,31,23,19,19,73,18,38,39,36,46,31],Job:[22,13,26,21,27,30,21,22,35,22,20,25,28,22,35,23,16,21,29,29,34,30,17,25,6,14,23,28,25,31,40,22,33,37,16,33,24,41,35,28,25,16],Ps:[6,13,9,10,13,11,18,10,39,8,9,6,7,5,10,15,51,15,10,14,32,6,10,22,12,14,9,11,13,25,11,22,23,28,13,40,23,14,18,14,12,5,26,18,12,10,15,21,23,21,11,7,9,24,13,12,12,18,14,9,13,12,11,14,20,8,36,37,6,24,20,28,23,11,13,21,72,13,20,17,8,19,13,14,17,7,19,53,17,16,16,5,23,11,13,12,9,9,5,8,29,22,35,45,48,43,14,31,7,10,10,9,26,9,10,2,29,176,7,8,9,4,8,5,6,5,6,8,8,3,18,3,3,21,26,9,8,24,14,10,8,12,15,21,10,11,9,14,9,6],Eccl:[18,26,22,17,19,11,30,17,18,20,10,14],Song:[16,17,11,16,17,12,13,14],Jer:[19,37,25,31,31,30,34,22,26,25,23,17,27,22,21,21,27,23,15,18,14,30,40,10,38,24,22,17,32,24,40,44,26,22,19,32,20,28,18,16,18,22,13,30,5,28,7,47,39,46,64,34],Ezek:[28,9,27,17,17,14,27,18,11,22,25,28,23,23,8,63,24,32,14,49,32,31,49,27,17,21,36,26,21,26,18,32,33,31,15,38,28,23,29,49,26,20,27,31,25,24,23,35],Dan:[21,49,100,34,31,28,28,27,27,21,45,13,65,42],Hos:[11,24,5,19,15,11,16,14,17,15,12,14,15,10],Amos:[15,16,15,13,27,15,17,14,14],Jonah:[16,11,10,11],Mic:[16,13,12,13,14,16,20],Hag:[14,24],Matt:[25,23,17,25,48,34,29,34,38,42,30,50,58,36,39,28,26,35,30,34,46,46,39,51,46,75,66,20],Mark:[45,28,35,40,43,56,37,39,49,52,33,44,37,72,47,20],John:[51,25,36,54,47,72,53,59,41,42,57,50,38,31,27,33,26,40,42,31,25],Acts:[26,47,26,37,42,15,59,40,43,48,30,25,52,27,41,40,34,28,40,38,40,30,35,27,27,32,44,31],"2Cor":[24,17,18,18,21,18,16,24,15,18,33,21,13],Rev:[20,29,22,11,14,17,17,13,21,11,19,18,18,20,8,21,18,24,21,15,27,21],Tob:[25,23,25,23,28,22,20,24,12,13,21,22,23,17],Jdt:[12,18,15,17,29,21,25,34,19,20,21,20,31,18,15,31],Wis:[16,25,19,20,24,27,30,21,19,21,27,27,19,31,19,29,20,25,20],Sir:[40,23,34,36,18,37,40,22,25,34,36,19,32,27,22,31,31,33,28,33,31,33,38,47,36,28,33,30,35,27,42,28,33,31,26,28,34,39,41,32,28,26,37,27,31,23,31,28,19,31,38,13],Bar:[22,35,38,37,9,72],"1Macc":[67,70,60,61,68,63,50,32,73,89,74,54,54,49,41,24],"2Macc":[36,33,40,50,27,31,42,36,29,38,38,46,26,46,40]}},ceb:{chapters:{"2Cor":[24,17,18,18,21,18,16,24,15,18,33,21,13],Rev:[20,29,22,11,14,17,17,13,21,11,19,18,18,20,8,21,18,24,21,15,27,21],Tob:[22,14,17,21,22,18,16,21,6,13,18,22,18,15],PrAzar:[67],EpJer:[72],"1Esd":[55,26,24,63,71,33,15,92,55],"2Esd":[40,48,36,52,56,59,140,63,47,60,46,51,58,48,63,78]}},csb:{chapters:{"2Cor":[24,17,18,18,21,18,16,24,15,18,33,21,13],Rev:[20,29,22,11,14,17,17,13,21,11,19,18,18,20,8,21,18,24,21,15,27,21]}},kjv:{chapters:{"3John":[14]}},nab:{order:{Gen:1,Exod:2,Lev:3,Num:4,Deut:5,Josh:6,Judg:7,Ruth:8,"1Sam":9,"2Sam":10,"1Kgs":11,"2Kgs":12,"1Chr":13,"2Chr":14,PrMan:15,Ezra:16,Neh:17,"1Esd":18,"2Esd":19,Tob:20,Jdt:21,Esth:22,GkEsth:23,"1Macc":24,"2Macc":25,"3Macc":26,"4Macc":27,Job:28,Ps:29,Prov:30,Eccl:31,Song:32,Wis:33,Sir:34,Isa:35,Jer:36,Lam:37,Bar:38,EpJer:39,Ezek:40,Dan:41,PrAzar:42,Sus:43,Bel:44,SgThree:45,Hos:46,Joel:47,Amos:48,Obad:49,Jonah:50,Mic:51,Nah:52,Hab:53,Zeph:54,Hag:55,Zech:56,Mal:57,Matt:58,Mark:59,Luke:60,John:61,Acts:62,Rom:63,"1Cor":64,"2Cor":65,Gal:66,Eph:67,Phil:68,Col:69,"1Thess":70,"2Thess":71,"1Tim":72,"2Tim":73,Titus:74,Phlm:75,Heb:76,Jas:77,"1Pet":78,"2Pet":79,"1John":80,"2John":81,"3John":82,Jude:83,Rev:84},chapters:{Gen:[31,25,24,26,32,22,24,22,29,32,32,20,18,24,21,16,27,33,38,18,34,24,20,67,34,35,46,22,35,43,54,33,20,31,29,43,36,30,23,23,57,38,34,34,28,34,31,22,33,26],Exod:[22,25,22,31,23,30,29,28,35,29,10,51,22,31,27,36,16,27,25,26,37,30,33,18,40,37,21,43,46,38,18,35,23,35,35,38,29,31,43,38],Lev:[17,16,17,35,26,23,38,36,24,20,47,8,59,57,33,34,16,30,37,27,24,33,44,23,55,46,34],Num:[54,34,51,49,31,27,89,26,23,36,35,16,33,45,41,35,28,32,22,29,35,41,30,25,19,65,23,31,39,17,54,42,56,29,34,13],Deut:[46,37,29,49,33,25,26,20,29,22,32,31,19,29,23,22,20,22,21,20,23,29,26,22,19,19,26,69,28,20,30,52,29,12],"1Sam":[28,36,21,22,12,21,17,22,27,27,15,25,23,52,35,23,58,30,24,42,16,23,28,23,44,25,12,25,11,31,13],"2Sam":[27,32,39,12,25,23,29,18,13,19,27,31,39,33,37,23,29,32,44,26,22,51,39,25],"1Kgs":[53,46,28,20,32,38,51,66,28,29,43,33,34,31,34,34,24,46,21,43,29,54],"2Kgs":[18,25,27,44,27,33,20,29,37,36,20,22,25,29,38,20,41,37,37,21,26,20,37,20,30],"1Chr":[54,55,24,43,41,66,40,40,44,14,47,41,14,17,29,43,27,17,19,8,30,19,32,31,31,32,34,21,30],"2Chr":[18,17,17,22,14,42,22,18,31,19,23,16,23,14,19,14,19,34,11,37,20,12,21,27,28,23,9,27,36,27,21,33,25,33,27,23],Neh:[11,20,38,17,19,19,72,18,37,40,36,47,31],Job:[22,13,26,21,27,30,21,22,35,22,20,25,28,22,35,22,16,21,29,29,34,30,17,25,6,14,23,28,25,31,40,22,33,37,16,33,24,41,30,32,26,17],Ps:[6,11,9,9,13,11,18,10,21,18,7,9,6,7,5,11,15,51,15,10,14,32,6,10,22,12,14,9,11,13,25,11,22,23,28,13,40,23,14,18,14,12,5,27,18,12,10,15,21,23,21,11,7,9,24,14,12,12,18,14,9,13,12,11,14,20,8,36,37,6,24,20,28,23,11,13,21,72,13,20,17,8,19,13,14,17,7,19,53,17,16,16,5,23,11,13,12,9,9,5,8,29,22,35,45,48,43,14,31,7,10,10,9,8,18,19,2,29,176,7,8,9,4,8,5,6,5,6,8,8,3,18,3,3,21,26,9,8,24,14,10,8,12,15,21,10,20,14,9,6],Eccl:[18,26,22,17,19,12,29,17,18,20,10,14],Song:[17,17,11,16,16,12,14,14],Isa:[31,22,26,6,30,13,25,23,20,34,16,6,22,32,9,14,14,7,25,6,17,25,18,23,12,21,13,29,24,33,9,20,24,17,10,22,38,22,8,31,29,25,28,28,25,13,15,22,26,11,23,15,12,17,13,12,21,14,21,22,11,12,19,11,25,24],Jer:[19,37,25,31,31,30,34,23,25,25,23,17,27,22,21,21,27,23,15,18,14,30,40,10,38,24,22,17,32,24,40,44,26,22,19,32,21,28,18,16,18,22,13,30,5,28,7,47,39,46,64,34],Ezek:[28,10,27,17,17,14,27,18,11,22,25,28,23,23,8,63,24,32,14,44,37,31,49,27,17,21,36,26,21,26,18,32,33,31,15,38,28,23,29,49,26,20,27,31,25,24,23,35],Dan:[21,49,100,34,30,29,28,27,27,21,45,13,64,42],Hos:[9,25,5,19,15,11,16,14,17,15,11,15,15,10],Joel:[20,27,5,21],Jonah:[16,11,10,11],Mic:[16,13,12,14,14,16,20],Nah:[14,14,19],Zech:[17,17,10,14,11,15,14,23,17,12,17,14,9,21],Mal:[14,17,24],Acts:[26,47,26,37,42,15,60,40,43,49,30,25,52,28,41,40,34,28,40,38,40,30,35,27,27,32,44,31],"2Cor":[24,17,18,18,21,18,16,24,15,18,33,21,13],Rev:[20,29,22,11,14,17,17,13,21,11,19,18,18,20,8,21,18,24,21,15,27,21],Tob:[22,14,17,21,22,18,17,21,6,13,18,22,18,15],Sir:[30,18,31,31,15,37,36,19,18,31,34,18,26,27,20,30,32,33,30,31,28,27,27,33,26,29,30,26,28,25,31,24,33,31,26,31,31,34,35,30,22,25,33,23,26,20,25,25,16,29,30],Bar:[22,35,38,37,9,72],"2Macc":[36,32,40,50,27,31,42,36,29,38,38,46,26,46,39]}},nlt:{chapters:{Rev:[20,29,22,11,14,17,17,13,21,11,19,18,18,20,8,21,18,24,21,15,27,21]}},nrsv:{chapters:{"2Cor":[24,17,18,18,21,18,16,24,15,18,33,21,13],Rev:[20,29,22,11,14,17,17,13,21,11,19,18,18,20,8,21,18,24,21,15,27,21]}},nrsvue:{chapters:{"2Cor":[24,17,18,18,21,18,16,24,15,18,33,21,13],Rev:[20,29,22,11,14,17,17,13,21,11,19,18,18,20,8,21,18,24,21,15,27,21],Tob:[22,14,17,21,22,18,16,21,6,13,18,22,18,15],Bar:[22,35,38,37,9],PrAzar:[67],EpJer:[72],"1Esd":[55,25,23,63,70,33,15,92,55]}}};this.systems.current=structuredClone(this.systems.default)}},os=class extends SyntaxError{constructor(n,e,o,l){super(n),this.expected=e,this.found=o,this.location=l,this.name="SyntaxError"}format(n){let e="Error: "+this.message;if(this.location){let o=null,l=n.find(v=>v.source===this.location.source);l&&(o=l.text.split(/\r\n|\n|\r/g));let c=this.location.start,p=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(c):c,_=this.location.source+":"+p.line+":"+p.column;if(o){let v=this.location.end,I="".padEnd(p.line.toString().length," "),P=o[c.line-1],y=(c.line===v.line?v.column:P.length+1)-c.column||1;e+=`
 --> `+_+`
`+I+` |
`+p.line+" | "+P+`
`+I+" | "+"".padEnd(c.column-1," ")+"".padEnd(y,"^")}else e+=`
 at `+_}return e}static buildMessage(n,e){function o(y){return y.codePointAt(0).toString(16).toUpperCase()}let l=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function c(y){return l?y.replace(l,C=>"\\u{"+o(C)+"}"):y}function p(y){return c(y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,C=>"\\x0"+o(C)).replace(/[\x10-\x1F\x7F-\x9F]/g,C=>"\\x"+o(C)))}function _(y){return c(y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,C=>"\\x0"+o(C)).replace(/[\x10-\x1F\x7F-\x9F]/g,C=>"\\x"+o(C)))}let v={literal(y){return'"'+p(y.text)+'"'},class(y){let C=y.parts.map(A=>Array.isArray(A)?_(A[0])+"-"+_(A[1]):_(A));return"["+(y.inverted?"^":"")+C.join("")+"]"+(y.unicode?"u":"")},any(){return"any character"},end(){return"end of input"},other(y){return y.description}};function I(y){return v[y.type](y)}function P(y){let C=y.map(I);if(C.sort(),C.length>0){let A=1;for(let Q=1;Q<C.length;Q++)C[Q-1]!==C[Q]&&(C[A]=C[Q],A++);C.length=A}switch(C.length){case 1:return C[0];case 2:return C[0]+" or "+C[1];default:return C.slice(0,-1).join(", ")+", or "+C[C.length-1]}}function S(y){return y?'"'+p(y)+'"':"end of input"}return"Expected "+P(n)+" but "+S(e)+" found."}};function En(b,n){n=n!==void 0?n:{};let e={},o=n.grammarSource,l={start:Ue},c=Ue,p="(",_=")",v="",I="/",P=",",S=".",y="-",C="$ordinal",A="/1",Q="$ff_value",Vt="$next_value",Fe="/9",Be="/2",Re=".1",Ot="$ab",zt="$c_explicit_value",qt="$c_sep_value",Nt="$v_explicit_value",Gt="$cv_sep",Kt="$cv_sep_weak",Ve="$sequence_sep_value",Yt="$range_sep",Ht="$title_value",jt="$in_book_of",Oe="",Dt="$integer_value",Ut="$space",cs=/^[1-8]/,Ie=/^[0-9]/,ze=/^[([]/,fs=/^[)\]]/,qe=/^[^\x1F\x1E([]/,us=E("(",!1),hs=E(")",!1),re=E("",!1),ps=E("/",!1),gs=oe([["1","8"]],!1,!1,!1),ke=E(",",!1),Ce=E(".",!1),Ee=E("-",!1),Wt=E("$ordinal",!1),ds=E("/1",!1),Zt=E("$ff_value",!1),Xt=E("$next_value",!1),_s=E("/9",!1),bs=E("/2",!1),vs=E(".1",!1),we=oe([["0","9"]],!1,!1,!1),Qt=E("$ab",!1),en=E("$c_explicit_value",!1),sn=E("$c_sep_value",!1),tn=E("$v_explicit_value",!1),nn=E("$cv_sep",!1),rn=E("$cv_sep_weak",!1),xs=E("$sequence_sep_value",!1),an=E("$range_sep",!1),on=E("$title_value",!1),ln=E("$in_book_of",!1),Ne=oe(["(","["],!1,!1,!1),ms=oe([")","]"],!1,!1,!1),Ge=E("",!1),cn=E("$integer_value",!1),Ke=oe(["","","(","["],!0,!1,!1),fn=E("$space",!1);function Ye(s,t,r){return t&&t.type&&t.type==="c_explicit"&&(r.explicit_context="c"),[r]}function ys(s,t){t.unshift([s]);let r=$();return{type:"sequence",value:t,indices:[r.start,r.end-1]}}function He(s,t,r,a){return r&&r.type&&r.type==="c_explicit"&&(a.explicit_context="c"),[a]}function $s(s,t,r){typeof r>"u"&&(r=[]),s&&s.type&&s.type==="c_explicit"&&(t.explicit_context="c"),r.unshift([t]);let a=$();return{type:"sequence_post_enclosed",value:r,indices:[a.start,a.end-1]}}function Is(s,t){s.length&&s.length===2&&(s=s[0]);let r=$();return{type:"range",value:[s,t],indices:[r.start,r.end-1]}}function ks(s){let t=$();return{type:"b",value:s.value,indices:[t.start,t.end-1]}}function Cs(s,t){let r=$();return{type:"bc",value:[s,t],indices:[r.start,r.end-1]}}function Es(s,t){let r=$();return{type:"bc",value:[s,t],indices:[r.start,r.end-1]}}function ws(s){return s.value[1].value[0].partial==null}function Ps(s,t){let r=$();return{type:"bc_title",value:[s,t],indices:[r.start,r.end-1]}}function Ms(s,t){let r=$();return{type:"bcv",value:[s,t],indices:[r.start,r.end-1]}}function Ss(s){return s.value[1].value[0].partial==null}function Ts(s,t){let r=$();return{type:"bcv",value:[s,t],indices:[r.start,r.end-1]}}function Ls(s){return s.value[1].value[0].partial==null}function Js(s,t){let r=$();return{type:"bcv",value:[s,t],indices:[r.start,r.end-1]}}function As(s,t){return t.value[0].partial==null}function Fs(s,t,r,a){let f=$();return{type:"range",value:[{type:"bcv",value:[{type:"bc",value:[s,t],indices:[s.indices[0],t.indices[1]]},r],indices:[s.indices[0],r.indices[1]]},a],indices:[f.start,f.end-1]}}function Bs(s,t){let r=$();return{type:"bv",value:[s,t],indices:[r.start,r.end-1]}}function Rs(s){let t=$();return{type:"c",value:[s],indices:[t.start,t.end-1]}}function Vs(s){return s.value[0].partial==null}function Os(s,t){let r=$();return{type:"bc",value:[t,s],indices:[r.start,r.end-1]}}function zs(s){return s.value[0].partial==null}function qs(s,t,r){let a=$();return{type:"cb_range",value:[r,s,t],indices:[a.start,a.end-1]}}function Ns(s,t){let r=$();return{type:"bcv",value:[s,t],indices:[r.start,r.end-1]}}function Gs(s,t){let r=$();return{type:"bc",value:[t,s],indices:[r.start,r.end-1]}}function Ks(s,t){let r=$();return{type:"bcv",value:[s,t],indices:[r.start,r.end-1]}}function Ys(s){let t=$();return{type:"c_psalm",value:s.value,indices:[t.start,t.end-1]}}function Hs(s,t){let r=$();return{type:"cv_psalm",value:[s,t],indices:[r.start,r.end-1]}}function js(s){return s.value[0].partial==null}function Ds(s,t){let r=$();return{type:"c_title",value:[s,t],indices:[r.start,r.end-1]}}function Us(s){return s.value[0].partial==null}function Ws(s,t){let r=$();return{type:"cv",value:[s,t],indices:[r.start,r.end-1]}}function Zs(s){return s.value[0].partial==null}function Xs(s,t){let r=$();return{type:"cv",value:[s,t],indices:[r.start,r.end-1]}}function Qs(s){let t=$();return{type:"ff",value:[s],indices:[t.start,t.end-1]}}function et(s){let t=$();return{type:"next_v",value:[s],indices:[t.start,t.end-1]}}function st(s,t){let r=$();return{type:"integer_title",value:[s,t],indices:[r.start,r.end-1]}}function tt(s){let t=$();return{type:"context",value:s.value,indices:[t.start,t.end-1]}}function nt(s){let t=$();return{type:"b",value:s.value,indices:[t.start,t.end-1]}}function it(s){let t=$();return{type:"bc",value:[s,{type:"c",value:[{type:"integer",value:151,indices:[t.end-2,t.end-1]}],indices:[t.end-2,t.end-1]}],indices:[t.start,t.end-1]}}function rt(s,t){let r=$();return{type:"bcv",value:[s,{type:"v",value:[t],indices:[t.indices[0],t.indices[1]]}],indices:[r.start,r.end-1]}}function at(s){let t=$();return{type:"v",value:[s],indices:[t.start,t.end-1]}}function ot(){return{type:"c_explicit"}}function lt(){return{type:"c_explicit"}}function ct(){return{type:"v_explicit"}}function un(){return""}function ft(s){let t=$();return{type:"title",value:[s],indices:[t.start,t.end-1]}}function ut(s){let t=$();return{type:"translation_sequence",value:s,indices:[t.start,t.end-1]}}function ht(s){let t=$();return{type:"translation_sequence",value:s,indices:[t.start,t.end-1]}}function pt(s){let t=$();return{type:"translation",value:s.value,indices:[t.start,t.end-1]}}function gt(s,t){let r=$();return{type:"integer",value:parseInt(s.join(""),10),partial:t!=null?t[1].join(""):null,indices:[r.start,r.end-1]}}function dt(s){let t=$();return{type:"integer",value:parseInt(s.join(""),10),indices:[t.start,t.end-1]}}function _t(s){let t=$();return{type:"word",value:s.join(""),indices:[t.start,t.end-1]}}function bt(s){let t=$();return{type:"stop",value:s,indices:[t.start,t.end-1]}}let i=n.peg$currPos|0,g=i,ee=[{line:1,column:1}],V=i,ve=n.peg$maxFailExpected||[],x=n.peg$silentFails|0,ae;if(n.startRule){if(!(n.startRule in l))throw new Error(`Can't start parsing from rule "`+n.startRule+'".');c=l[n.startRule]}function hn(){return b.substring(g,i)}function pn(){return g}function $(){return{source:o,start:g,end:i}}function gn(){return le(g,i)}function dn(s,t){throw t=t!==void 0?t:le(g,i),De([mt(s)],b.substring(g,i),t)}function _n(s,t){throw t=t!==void 0?t:le(g,i),yt(s,t)}function vt(s=i){let t=b.codePointAt(s);return t===void 0?"":String.fromCodePoint(t)}function E(s,t){return{type:"literal",text:s,ignoreCase:t}}function oe(s,t,r,a){return{type:"class",parts:s,inverted:t,ignoreCase:r,unicode:a}}function bn(){return{type:"any"}}function xt(){return{type:"end"}}function mt(s){return{type:"other",description:s}}function je(s){let t=ee[s],r;if(t)return t;if(s>=ee.length)r=ee.length-1;else for(r=s;!ee[--r];);for(t=ee[r],t={line:t.line,column:t.column};r<s;)b.charCodeAt(r)===10?(t.line++,t.column=1):t.column++,r++;return ee[s]=t,t}function le(s,t,r){let a=je(s),f=je(t),h={source:o,start:{offset:s,line:a.line,column:a.column},end:{offset:t,line:f.line,column:f.column}};return r&&o&&typeof o.offset=="function"&&(h.start=o.offset(h.start),h.end=o.offset(h.end)),h}function k(s){i<V||(i>V&&(V=i,ve=[]),ve.push(s))}function yt(s,t){return new os(s,null,null,t)}function De(s,t,r){return new os(os.buildMessage(s,t),s,t,r)}function Ue(){let s,t;if(s=[],t=me(),t===e&&(t=We(),t===e&&(t=ye(),t===e&&(t=xe(),t===e&&(t=he(),t===e&&(t=ue(),t===e&&(t=j(),t===e&&(t=H(),t===e&&(t=X(),t===e&&(t=N(),t===e&&(t=G(),t===e&&(t=O(),t===e&&(t=F(),t===e&&(t=ne(),t===e&&(t=K(),t===e&&(t=W(),t===e&&(t=J(),t===e&&(t=se(),t===e&&(t=te(),t===e&&(t=D(),t===e&&(t=U(),t===e&&(t=Ze(),t===e&&(t=Xe(),t===e&&(t=M(),t===e&&(t=fe(),t===e&&(t=pe(),t===e&&(t=Y(),t===e&&(t=Z(),t===e&&(t=z(),t===e&&(t=T(),t===e&&(t=w(),t===e&&(t=Qe(),t===e&&(t=es(),t===e&&(t=Pe()))))))))))))))))))))))))))))))))),t!==e)for(;t!==e;)s.push(t),t=me(),t===e&&(t=We(),t===e&&(t=ye(),t===e&&(t=xe(),t===e&&(t=he(),t===e&&(t=ue(),t===e&&(t=j(),t===e&&(t=H(),t===e&&(t=X(),t===e&&(t=N(),t===e&&(t=G(),t===e&&(t=O(),t===e&&(t=F(),t===e&&(t=ne(),t===e&&(t=K(),t===e&&(t=W(),t===e&&(t=J(),t===e&&(t=se(),t===e&&(t=te(),t===e&&(t=D(),t===e&&(t=U(),t===e&&(t=Ze(),t===e&&(t=Xe(),t===e&&(t=M(),t===e&&(t=fe(),t===e&&(t=pe(),t===e&&(t=Y(),t===e&&(t=Z(),t===e&&(t=z(),t===e&&(t=T(),t===e&&(t=w(),t===e&&(t=Qe(),t===e&&(t=es(),t===e&&(t=Pe())))))))))))))))))))))))))))))))));else s=e;return s}function We(){let s,t,r,a,f,h;if(s=i,t=ye(),t===e&&(t=me(),t===e&&(t=xe(),t===e&&(t=he(),t===e&&(t=ue(),t===e&&(t=j(),t===e&&(t=H(),t===e&&(t=X(),t===e&&(t=N(),t===e&&(t=G(),t===e&&(t=O(),t===e&&(t=F(),t===e&&(t=ne(),t===e&&(t=K(),t===e&&(t=W(),t===e&&(t=J(),t===e&&(t=se(),t===e&&(t=te(),t===e&&(t=D(),t===e&&(t=U(),t===e&&(t=Pe())))))))))))))))))))),t!==e){if(r=[],a=i,f=de(),f===e&&(f=M(),f===e&&(f=null)),f!==e?(h=ce(),h!==e?(g=a,a=Ye(t,f,h)):(i=a,a=e)):(i=a,a=e),a!==e)for(;a!==e;)r.push(a),a=i,f=de(),f===e&&(f=M(),f===e&&(f=null)),f!==e?(h=ce(),h!==e?(g=a,a=Ye(t,f,h)):(i=a,a=e)):(i=a,a=e);else r=e;r!==e?(g=s,s=ys(t,r)):(i=s,s=e)}else i=s,s=e;return s}function $t(){let s,t,r,a,f,h,u,d,m;if(s=i,b.charCodeAt(i)===40?(t=p,i++):(t=e,x===0&&k(us)),t!==e)if(r=L(),a=de(),a===e&&(a=M(),a===e&&(a=null)),a!==e)if(f=ce(),f!==e){for(h=[],u=i,d=de(),d===e&&(d=M(),d===e&&(d=null)),d!==e?(m=ce(),m!==e?(g=u,u=He(a,f,d,m)):(i=u,u=e)):(i=u,u=e);u!==e;)h.push(u),u=i,d=de(),d===e&&(d=M(),d===e&&(d=null)),d!==e?(m=ce(),m!==e?(g=u,u=He(a,f,d,m)):(i=u,u=e)):(i=u,u=e);u=L(),b.charCodeAt(i)===41?(d=_,i++):(d=e,x===0&&k(hs)),d!==e?(g=s,s=$s(a,f,h)):(i=s,s=e)}else i=s,s=e;else i=s,s=e;else i=s,s=e;return s}function ce(){let s;return s=$t(),s===e&&(s=ye(),s===e&&(s=me(),s===e&&(s=xe(),s===e&&(s=he(),s===e&&(s=ue(),s===e&&(s=j(),s===e&&(s=H(),s===e&&(s=X(),s===e&&(s=N(),s===e&&(s=G(),s===e&&(s=O(),s===e&&(s=F(),s===e&&(s=ne(),s===e&&(s=K(),s===e&&(s=W(),s===e&&(s=J(),s===e&&(s=se(),s===e&&(s=te(),s===e&&(s=D(),s===e&&(s=U(),s===e&&(s=fe(),s===e&&(s=pe(),s===e&&(s=Y(),s===e&&(s=Z(),s===e&&(s=z(),s===e&&(s=T(),s===e&&(s=w()))))))))))))))))))))))))))),s}function xe(){let s,t,r,a,f,h,u;return s=i,t=j(),t===e&&(t=H(),t===e&&(t=X(),t===e&&(t=N(),t===e&&(t=G(),t===e&&(t=O(),t===e&&(t=F(),t===e&&(t=ne(),t===e&&(t=K(),t===e&&(t=i,r=J(),r!==e?(a=i,x++,f=i,h=_e(),h!==e?(u=j(),u===e&&(u=H(),u===e&&(u=X(),u===e&&(u=N(),u===e&&(u=G(),u===e&&(u=O(),u===e&&(u=F(),u===e&&(u=K(),u===e&&(u=J())))))))),u!==e?(h=[h,u],f=h):(i=f,f=e)):(i=f,f=e),x--,f!==e?(i=a,a=void 0):a=e,a!==e?(r=[r,a],t=r):(i=t,t=e)):(i=t,t=e),t===e&&(t=se(),t===e&&(t=te(),t===e&&(t=W(),t===e&&(t=D(),t===e&&(t=U(),t===e&&(t=fe(),t===e&&(t=pe(),t===e&&(t=Y(),t===e&&(t=Z(),t===e&&(t=z(),t===e&&(t=T(),t===e&&(t=w()))))))))))))))))))))),t!==e?(r=_e(),r!==e?(a=he(),a===e&&(a=ue(),a===e&&(a=j(),a===e&&(a=H(),a===e&&(a=X(),a===e&&(a=N(),a===e&&(a=G(),a===e&&(a=O(),a===e&&(a=F(),a===e&&(a=ne(),a===e&&(a=K(),a===e&&(a=J(),a===e&&(a=se(),a===e&&(a=te(),a===e&&(a=W(),a===e&&(a=D(),a===e&&(a=U(),a===e&&(a=fe(),a===e&&(a=pe(),a===e&&(a=Y(),a===e&&(a=z(),a===e&&(a=Z(),a===e&&(a=T(),a===e&&(a=w()))))))))))))))))))))))),a!==e?(g=s,s=Is(t,a)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function J(){let s,t,r,a,f,h;return s=i,b.charCodeAt(i)===31?(t=v,i++):(t=e,x===0&&k(re)),t!==e?(r=be(),r!==e?(a=i,b.charCodeAt(i)===47?(f=I,i++):(f=e,x===0&&k(ps)),f!==e?(h=b.charAt(i),cs.test(h)?i++:(h=e,x===0&&k(gs)),h!==e?(f=[f,h],a=f):(i=a,a=e)):(i=a,a=e),a===e&&(a=null),b.charCodeAt(i)===31?(f=v,i++):(f=e,x===0&&k(re)),f!==e?(g=s,s=ks(r)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function F(){let s,t,r,a,f,h;return s=i,t=J(),t!==e?(r=i,a=B(),a!==e?(f=i,x++,h=Y(),x--,h!==e?(i=f,f=void 0):f=e,f!==e?(a=[a,f],r=a):(i=r,r=e)):(i=r,r=e),r===e&&(r=q(),r===e&&(r=$e(),r===e&&(r=_e(),r===e&&(r=L())))),r!==e?(a=T(),a!==e?(g=s,s=Cs(t,a)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function It(){let s,t,r,a,f,h;return s=i,t=J(),t!==e?(r=L(),b.charCodeAt(i)===44?(a=P,i++):(a=e,x===0&&k(ke)),a!==e?(f=L(),h=T(),h!==e?(g=s,s=Es(t,h)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function H(){let s,t,r,a;return s=i,t=O(),t===e&&(t=F()),t!==e?(g=i,r=ws(t),r?r=void 0:r=e,r!==e?(a=Me(),a!==e?(g=s,s=Ps(t,a)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function N(){let s,t,r,a,f,h,u;return s=i,t=O(),t===e&&(t=F()),t!==e?(r=i,x++,a=i,b.charCodeAt(i)===46?(f=S,i++):(f=e,x===0&&k(Ce)),f!==e?(h=B(),h!==e?(u=w(),u!==e?(f=[f,h,u],a=f):(i=a,a=e)):(i=a,a=e)):(i=a,a=e),a===e&&(a=i,f=M(),f===e&&(f=null),h=B(),h!==e?(u=Y(),u!==e?(f=[f,h,u],a=f):(i=a,a=e)):(i=a,a=e)),x--,a===e?r=void 0:(i=r,r=e),r!==e?(a=i,f=q(),f===e&&(f=M()),f===e&&(f=null),h=B(),h!==e?(f=[f,h],a=f):(i=a,a=e),a===e&&(a=q()),a!==e?(f=w(),f!==e?(g=s,s=Ms(t,f)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function G(){let s,t,r,a,f,h,u,d,m;return s=i,t=O(),t===e&&(t=F()),t!==e?(g=i,r=Ss(t),r?r=void 0:r=e,r!==e?(a=$e(),a!==e?(f=w(),f!==e?(h=i,x++,u=i,d=q(),d!==e?(m=w(),m!==e?(d=[d,m],u=d):(i=u,u=e)):(i=u,u=e),x--,u===e?h=void 0:(i=h,h=e),h!==e?(g=s,s=Ts(t,f)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function j(){let s,t,r,a,f,h,u,d,m,R,Le;return s=i,t=It(),t!==e?(g=i,r=Ls(t),r?r=void 0:r=e,r!==e?(a=L(),b.charCodeAt(i)===44?(f=P,i++):(f=e,x===0&&k(ke)),f!==e?(h=L(),u=w(),u!==e?(d=i,x++,m=i,R=q(),R!==e?(Le=w(),Le!==e?(R=[R,Le],m=R):(i=m,m=e)):(i=m,m=e),x--,m===e?d=void 0:(i=d,d=e),d!==e?(g=s,s=Js(t,u)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function me(){let s,t,r,a,f,h,u,d,m;return s=i,t=J(),t!==e?(b.charCodeAt(i)===45?(r=y,i++):(r=e,x===0&&k(Ee)),r===e&&(r=ss()),r===e&&(r=null),a=T(),a!==e?(g=i,f=As(t,a),f?f=void 0:f=e,f!==e?(b.charCodeAt(i)===45?(h=y,i++):(h=e,x===0&&k(Ee)),h!==e?(u=w(),u!==e?(b.charCodeAt(i)===45?(d=y,i++):(d=e,x===0&&k(Ee)),d!==e?(m=w(),m!==e?(g=s,s=Fs(t,a,u,m)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function K(){let s,t,r,a,f,h;return s=i,t=J(),t!==e?(r=q(),r===e&&(r=$e(),r===e&&(r=_e(),r===e&&(r=i,a=M(),a!==e?(f=i,x++,h=B(),x--,h!==e?(i=f,f=void 0):f=e,f!==e?(a=[a,f],r=a):(i=r,r=e)):(i=r,r=e),r===e&&(r=L())))),r!==e?(a=w(),a!==e?(g=s,s=Bs(t,a)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function T(){let s,t,r;return s=i,t=ge(),t===e&&(t=null),r=z(),r!==e?(g=s,s=Rs(r)):(i=s,s=e),s}function D(){let s,t,r,a,f,h;return s=i,t=ge(),t!==e?(r=T(),r!==e?(g=i,a=Vs(r),a?a=void 0:a=e,a!==e?(f=Se(),f===e&&(f=null),h=J(),h!==e?(g=s,s=Os(r,h)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function ye(){let s,t,r,a,f,h,u,d;return s=i,t=ge(),t!==e?(r=T(),r!==e?(g=i,a=zs(r),a?a=void 0:a=e,a!==e?(f=_e(),f!==e?(h=T(),h!==e?(u=Se(),u===e&&(u=null),d=J(),d!==e?(g=s,s=qs(r,h,d)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function se(){let s,t,r,a,f;return s=i,t=D(),t!==e?(r=M(),r===e&&(r=null),a=B(),a!==e?(f=w(),f!==e?(g=s,s=Ns(t,f)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function U(){let s,t,r,a,f,h;return s=i,t=T(),t!==e?(r=kt(),r!==e?(a=ge(),a!==e?(f=Se(),f===e&&(f=null),h=J(),h!==e?(g=s,s=Gs(t,h)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function kt(){let s;return(s=n.ordinal.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function te(){let s,t,r,a,f;return s=i,t=U(),t!==e?(r=M(),r===e&&(r=null),a=B(),a!==e?(f=w(),f!==e?(g=s,s=Ks(t,f)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function W(){let s,t,r,a;return s=i,b.charCodeAt(i)===31?(t=v,i++):(t=e,x===0&&k(re)),t!==e?(r=be(),r!==e?(b.substr(i,3)===A?(a=A,i+=3):(a=e,x===0&&k(ds)),a!==e?(g=s,s=Ys(r)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function ne(){let s,t,r,a,f;return s=i,t=W(),t!==e?(r=M(),r===e&&(r=null),a=B(),a!==e?(f=w(),f!==e?(g=s,s=Hs(t,f)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function fe(){let s,t,r,a,f;return s=i,t=ge(),t!==e?(r=T(),r!==e?(g=i,a=js(r),a?a=void 0:a=e,a!==e?(f=Me(),f!==e?(g=s,s=Ds(r,f)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function Y(){let s,t,r,a,f,h,u,d,m;return s=i,t=B(),t===e&&(t=null),r=T(),r!==e?(g=i,a=Us(r),a?a=void 0:a=e,a!==e?(f=i,x++,h=i,b.charCodeAt(i)===46?(u=S,i++):(u=e,x===0&&k(Ce)),u!==e?(d=B(),d!==e?(m=w(),m!==e?(u=[u,d,m],h=u):(i=h,h=e)):(i=h,h=e)):(i=h,h=e),x--,h===e?f=void 0:(i=f,f=e),f!==e?(h=i,u=q(),u===e&&(u=null),d=B(),d!==e?(u=[u,d],h=u):(i=h,h=e),h===e&&(h=q()),h!==e?(u=w(),u!==e?(g=s,s=Ws(r,u)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function Z(){let s,t,r,a,f,h,u,d,m;return s=i,t=T(),t!==e?(g=i,r=Zs(t),r?r=void 0:r=e,r!==e?(a=$e(),a!==e?(f=w(),f!==e?(h=i,x++,u=i,d=q(),d!==e?(m=w(),m!==e?(d=[d,m],u=d):(i=u,u=e)):(i=u,u=e),x--,u===e?h=void 0:(i=h,h=e),h!==e?(g=s,s=Xs(t,f)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function ue(){let s,t,r,a;return s=i,t=N(),t===e&&(t=G(),t===e&&(t=F(),t===e&&(t=K(),t===e&&(t=Y(),t===e&&(t=Z(),t===e&&(t=z(),t===e&&(t=T(),t===e&&(t=w())))))))),t!==e?(r=L(),a=Ct(),a!==e?(g=s,s=Qs(t)):(i=s,s=e)):(i=s,s=e),s}function Ct(){let s;return(s=n.ff.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function he(){let s,t,r,a;return s=i,t=N(),t===e&&(t=G(),t===e&&(t=F(),t===e&&(t=K(),t===e&&(t=Y(),t===e&&(t=Z(),t===e&&(t=z(),t===e&&(t=T(),t===e&&(t=w())))))))),t!==e?(r=L(),a=Et(),a!==e?(g=s,s=et(t)):(i=s,s=e)):(i=s,s=e),s}function Et(){let s;return(s=n.next.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function pe(){let s,t,r;return s=i,t=z(),t!==e?(r=Me(),r!==e?(g=s,s=st(t,r)):(i=s,s=e)):(i=s,s=e),s}function Pe(){let s,t,r,a;return s=i,b.charCodeAt(i)===31?(t=v,i++):(t=e,x===0&&k(re)),t!==e?(r=be(),r!==e?(b.substr(i,3)===Fe?(a=Fe,i+=3):(a=e,x===0&&k(_s)),a!==e?(g=s,s=tt(r)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function wt(){let s,t,r,a;return s=i,b.charCodeAt(i)===31?(t=v,i++):(t=e,x===0&&k(re)),t!==e?(r=be(),r!==e?(b.substr(i,3)===Be?(a=Be,i+=3):(a=e,x===0&&k(bs)),a!==e?(g=s,s=nt(r)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function O(){let s,t,r,a,f;return s=i,t=wt(),t!==e?(b.substr(i,2)===Re?(r=Re,i+=2):(r=e,x===0&&k(vs)),r!==e?(a=i,x++,f=b.charAt(i),Ie.test(f)?i++:(f=e,x===0&&k(we)),x--,f===e?a=void 0:(i=a,a=e),a!==e?(g=s,s=it(t)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function X(){let s,t,r,a;return s=i,t=O(),t!==e?(b.charCodeAt(i)===46?(r=S,i++):(r=e,x===0&&k(Ce)),r!==e?(a=z(),a!==e?(g=s,s=rt(t,a)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function Pt(){let s;return(s=n.ab.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function w(){let s,t,r;return s=i,t=B(),t===e&&(t=null),r=z(),r!==e?(g=s,s=at(r)):(i=s,s=e),s}function ge(){let s,t;return s=i,t=Mt(),t!==e&&(g=s,t=ot()),s=t,s}function Mt(){let s;return(s=n.c_explicit.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function de(){let s,t;return s=i,t=St(),t!==e&&(g=s,t=lt()),s=t,s}function St(){let s;return(s=n.c_sep.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function B(){let s,t;return s=i,t=Tt(),t!==e&&(g=s,t=ct()),s=t,s}function Tt(){let s;return(s=n.v_explicit.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function q(){let s;return(s=n.cv_sep.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function $e(){let s;return(s=n.cv_sep_weak.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function M(){let s;return(s=n.sequence.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function vn(){let s;return b.substr(i,19)===Ve?(s=Ve,i+=19):(s=e,x===0&&k(xs)),s}function _e(){let s;return(s=n.range.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function Me(){let s,t,r;return s=i,t=q(),t===e&&(t=M()),t===e&&(t=null),r=Lt(),r!==e?(g=s,s=ft(r)):(i=s,s=e),s}function Lt(){let s;return(s=n.title.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function Se(){let s;return(s=n.in_book_of.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function Ze(){let s,t,r,a,f,h,u,d,m,R;if(s=i,t=L(),r=b.charAt(i),ze.test(r)?i++:(r=e,x===0&&k(Ne)),r!==e){if(a=L(),f=i,h=ie(),h!==e){for(u=[],d=i,m=M(),m!==e?(R=ie(),R!==e?(m=[m,R],d=m):(i=d,d=e)):(i=d,d=e);d!==e;)u.push(d),d=i,m=M(),m!==e?(R=ie(),R!==e?(m=[m,R],d=m):(i=d,d=e)):(i=d,d=e);h=[h,u],f=h}else i=f,f=e;f!==e?(h=L(),u=b.charAt(i),fs.test(u)?i++:(u=e,x===0&&k(ms)),u!==e?(g=s,s=ut(f)):(i=s,s=e)):(i=s,s=e)}else i=s,s=e;return s}function Xe(){let s,t,r,a,f,h,u,d,m;if(s=i,t=L(),r=i,b.charCodeAt(i)===44?(a=P,i++):(a=e,x===0&&k(ke)),a!==e?(f=L(),a=[a,f],r=a):(i=r,r=e),r===e&&(r=null),a=i,f=ie(),f!==e){for(h=[],u=i,d=M(),d!==e?(m=ie(),m!==e?(d=[d,m],u=d):(i=u,u=e)):(i=u,u=e);u!==e;)h.push(u),u=i,d=M(),d!==e?(m=ie(),m!==e?(d=[d,m],u=d):(i=u,u=e)):(i=u,u=e);f=[f,h],a=f}else i=a,a=e;return a!==e?(g=s,s=ht(a)):(i=s,s=e),s}function ie(){let s,t,r,a;return s=i,b.charCodeAt(i)===30?(t=Oe,i++):(t=e,x===0&&k(Ge)),t!==e?(r=be(),r!==e?(b.charCodeAt(i)===30?(a=Oe,i++):(a=e,x===0&&k(Ge)),a!==e?(g=s,s=pt(r)):(i=s,s=e)):(i=s,s=e)):(i=s,s=e),s}function z(){let s,t,r,a,f;return s=i,t=Jt(),t!==e?(r=i,a=L(),f=Pt(),f!==e?(a=[a,f],r=a):(i=r,r=e),r===e&&(r=null),g=s,s=gt(t,r)):(i=s,s=e),s}function Jt(){let s;return(s=/^[0-9]{1,3}(?![0-9]|,000)/.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}function be(){let s,t,r;if(s=i,t=[],r=b.charAt(i),Ie.test(r)?i++:(r=e,x===0&&k(we)),r!==e)for(;r!==e;)t.push(r),r=b.charAt(i),Ie.test(r)?i++:(r=e,x===0&&k(we));else t=e;return t!==e&&(g=s,t=dt(t)),s=t,s}function Qe(){let s,t,r;if(s=i,t=[],r=b.charAt(i),qe.test(r)?i++:(r=e,x===0&&k(Ke)),r!==e)for(;r!==e;)t.push(r),r=b.charAt(i),qe.test(r)?i++:(r=e,x===0&&k(Ke));else t=e;return t!==e&&(g=s,t=_t(t)),s=t,s}function es(){let s,t;return s=i,t=b.charAt(i),ze.test(t)?i++:(t=e,x===0&&k(Ne)),t!==e&&(g=s,t=bt(t)),s=t,s}function L(){let s;return s=ss(),s===e&&(s=null),s}function ss(){let s;return(s=n.space.exec(b.substring(i)))?(g=i,i+=s[0].length,[s[0]]):e}ae=c();let Te=ae!==e&&i===b.length;function ts(){throw ae!==e&&i<b.length&&k(xt()),De(ve,V<b.length?vt(V):null,V<b.length?le(V,V+1):le(V,V))}if(n.peg$library)return{peg$result:ae,peg$currPos:i,peg$FAILED:e,peg$maxFailExpected:ve,peg$maxFailPos:V,peg$success:Te,peg$throw:Te?void 0:ts};if(Te)return ae;ts()}var Bt=class{constructor(n=null){this.passage=new Ae;this.entities=[];if(this.options=new is(this),n==null){if(typeof Pn>"u")throw`When creating a new bcv_parser object using ES Modules, please provide a language object. For example, here's how to provide English:
import * as lang from "es/lang/en.js";
const bcv = new bcv_parser(lang);`;this.translations=new ls,this.matcher=new Je(this,wn),this.regexps=new Ft,this.translations=new ls}else this.matcher=new Je(this,n.grammar_options),this.regexps=new n.regexps,this.translations=new n.translations;this.passage=new Ae(this.options,this.translations),this.regexps_manager=new rs(this),this.translations_manager=new as(this)}parse(n){return this.reset(),n=this.matcher.replace_control_characters(n),[n,this.passage.books]=this.matcher.match_books(n),n=this.matcher.replace_non_ascii_numbers(n),[this.entities]=this.matcher.match_passages(n),this}parse_with_context(n,e){this.reset(),[e,this.passage.books]=this.matcher.match_books(this.matcher.replace_control_characters(e)),e=this.matcher.replace_non_ascii_numbers(e);let[o,l]=this.matcher.match_passages(e);return this.reset(),n=this.matcher.replace_control_characters(n),[n,this.passage.books]=this.matcher.match_books(n),this.passage.books.push({value:"",parsed:"",start_index:0,type:"context",context:l}),n=""+(this.passage.books.length-1)+"/9"+n,[this.entities]=this.matcher.match_passages(n),this}reset(){this.entities=[],this.passage.books=[],this.passage.indices={}}set_options(n){n.include_apocrypha!=null&&(this.include_apocrypha(n.include_apocrypha),delete n.include_apocrypha);for(let[e,o]of Object.entries(n))e in this.options&&(this.options[e]=o);return this}include_apocrypha(n){let e=this.options.testaments,o=e;return n===!0&&e.indexOf("a")===-1?o=o+"a":n===!1&&e.indexOf("a")>=1&&(o=o.slice(0,-1)),o!==e&&(this.options.testaments=o),this}translation_info(n="default"){return this.translations_manager.translation_info(n)}osis(){let n=[];for(let e of this.parsed_entities())e.osis.length>0&&n.push(e.osis);return n.join(",")}osis_and_translations(){let n=[];for(let e of this.parsed_entities())e.osis.length>0&&n.push([e.osis,e.translations.join(",")]);return n}osis_and_indices(){let n=[];for(let e of this.parsed_entities())e.osis.length>0&&n.push({osis:e.osis,translations:e.translations,indices:e.indices});return n}parsed_entities(){let n=[];return this.entities.forEach((e,o)=>{if(e.type&&e.type==="translation_sequence"&&n.length>0&&o===n[n.length-1].entity_id+1&&(n[n.length-1].indices[1]=e.absolute_indices[1]),e.passages==null||e.type==="b"&&this.options.book_alone_strategy==="ignore"||e.type==="b_range"&&this.options.book_range_strategy==="ignore"||e.type==="context")return;let l=[],c="";if(e.passages[0].translations)for(let _ of e.passages[0].translations){let v=_.osis&&_.osis.length>0?_.osis:"";c===""&&(c=_.system),l.push(v)}else l=[""],c="current";let p=this.parse_entity_passages(e,o,l,c);if(p.length!==0)if(p.length>1&&this.options.consecutive_combination_strategy==="combine"&&(p=this.combine_consecutive_passages(p,c)),this.options.sequence_combination_strategy==="separate")n=n.concat(p);else{let _=[],v=p.length-1;p[v].enclosed_indices&&p[v].enclosed_indices[1]>=0&&(e.absolute_indices[1]=p[v].enclosed_indices[1]);for(let I of p)I.osis.length>0&&_.push(I.osis);n.push({osis:_.join(","),indices:e.absolute_indices,translations:l,entity_id:o,entities:p})}}),n}parse_entity_passages(n,e,o,l){let c=[],p=n.passages.length,_=this.options.testaments.indexOf("o")>=0;return n.passages.forEach((v,I)=>{if(v.type||(v.type=n.type),!(v.valid.valid===!1&&(this.options.invalid_sequence_strategy==="ignore"&&n.type==="sequence"&&this.snap_sequence("ignore",n,c,I,p),this.options.invalid_passage_strategy==="ignore"))){if((v.type==="b"||v.type==="b_range")&&this.options.book_sequence_strategy==="ignore"&&n.type==="sequence"){this.snap_sequence("book",n,c,I,p);return}_===!1&&v.start.b==="Ps"&&v.start.c!=null&&v.start.c<151&&v.end.b==="Ps"&&v.end.c!=null&&v.end.c<151||((v.type==="b_range_start"||v.type==="range_end_b")&&this.options.book_range_strategy==="ignore"&&this.snap_range(n,I),v.absolute_indices||(v.absolute_indices=[...n.absolute_indices]),c.push({osis:v.valid.valid?this.to_osis(v.start,v.end,l):"",type:v.type,indices:v.absolute_indices,translations:o,start:v.start,end:v.end,enclosed_indices:v.enclosed_absolute_indices,entity_id:e,entities:[v]}))}}),c}to_osis(n,e,o){e.c==null&&e.v==null&&n.c==null&&n.v==null&&n.b===e.b&&this.options.book_alone_strategy==="first_chapter"&&(e.c=1);let l={start:"",end:""};n.c==null&&(n.c=1),n.v==null&&(n.v=1),this.options.versification_system.includes("a")&&this.options.ps151_strategy==="b"&&(n.c===151&&n.b==="Ps"||e.c===151&&e.b==="Ps")&&this.fix_ps151(n,e,o);let c=this.passage.translations.systems[o]?.chapters[e.b]||this.passage.translations.systems.current.chapters[e.b],p=this.options.osis_compaction_strategy,_=this.options.passage_existence_strategy;e.c==null&&(_.includes("c")||c&&c.length===1?e.c=c.length:e.c=999),e.v==null&&(c&&c[e.c-1]&&_.includes("v")?e.v=c[e.c-1]:e.v=999);let v=p.includes("p")&&(n.p!=null||e.p!=null);(p==="b"||p==="bp")&&n.c===1&&n.v===1&&v===!1&&(e.c===999&&e.v===999||e.c===c.length&&_.includes("c")&&(e.v===999||e.v===c[e.c-1]&&_.includes("v")))?(l.start=n.b,l.end=e.b):n.v===1&&v===!1&&p.includes("v")===!1&&(e.v===999||e.v===c[e.c-1]&&_.includes("v"))?(l.start=n.b+"."+n.c,l.end=e.b+"."+e.c):(l.start=n.b+"."+n.c+"."+n.v,l.end=e.b+"."+e.c+"."+e.v,v&&(n.p!=null&&(l.start+="!"+n.p),e.p!=null&&(l.end+="!"+e.p)));let I="";return l.start===l.end?I=l.start:I=l.start+"-"+l.end,n.extra&&(I=n.extra+","+I),e.extra&&(I+=","+e.extra),I}fix_ps151(n,e,o){let l=this.options.versification_system;this.options.versification_system=o;let c=this.options.versification_system;n.c===151&&n.b==="Ps"?e.c===151&&e.b==="Ps"?(n.b="Ps151",n.c=1,e.b="Ps151",e.c=1):(n.extra=this.to_osis({b:"Ps151",c:1,v:n.v},{b:"Ps151",c:1,v:this.translations.systems.current.chapters.Ps151[0]},o),n.b="Prov",n.c=1,n.v=1):(e.extra=this.to_osis({b:"Ps151",c:1,v:1},{b:"Ps151",c:1,v:e.v},o),e.c=150,e.v=this.translations.systems.current.chapters.Ps[149]),l!==c&&(this.options.versification_system=l)}combine_consecutive_passages(n,e){let o=[],l={},c=n.length-1,p=-1,_=!1;return n.forEach((v,I)=>{if(v.osis.length>0){let P=o.length-1,S=!1;v.enclosed_indices[0]!==p&&(p=v.enclosed_indices[0]),p>=0&&(I===c||n[I+1].enclosed_indices[0]!==v.enclosed_indices[0])&&(S=!0,_=!0),this.is_verse_consecutive(l,v.start,e)?(o[P].end=v.end,o[P].is_enclosed_last=S,o[P].indices[1]=v.indices[1],o[P].enclosed_indices[1]=v.enclosed_indices[1],o[P].osis=this.to_osis(o[P].start,v.end,e)):o.push(v),l={b:v.end.b,c:v.end.c,v:v.end.v}}else o.push(v),l={}}),_&&this.snap_enclosed_indices(o),o}snap_enclosed_indices(n){for(let e of n)e.is_enclosed_last!=null&&(e.enclosed_indices[0]<0&&e.is_enclosed_last&&(e.indices[1]=e.enclosed_indices[1]),delete e.is_enclosed_last);return n}is_verse_consecutive(n,e,o){if(!n.b)return!1;let l=this.passage.translations.systems[o]?.order||this.passage.translations.systems.current.order,c=this.passage.translations.systems[o]?.chapters?.[n.b]||this.passage.translations.systems.current.chapters[n.b];if(n.b===e.b){if(n.c===e.c)return n.v===e.v-1;if(e.v===1&&n.c===e.c-1){let p=c[n.c-1];return n.v===p}}else if(e.c===1&&e.v===1&&l[n.b]===l[e.b]-1)return n.c===c.length&&n.v===c[n.c-1];return!1}snap_range(n,e){let o=0,l="start",c="range_end_b";n.original_type==="b_range_start"&&(n.type=n.original_type,delete n.original_type),(n.type==="b_range_start"||n.type==="sequence"&&n.passages[e].type==="b_range_start")&&(o=1,l="end",c="b_range_start");let p=l==="end"?"start":"end";for(let v of[l,p])n.passages[e][v].original_object!=null&&(n.passages[e][v]=n.passages[e][v].original_object);let _=structuredClone(n.passages[e][p]);if(n.passages[e][p]=structuredClone(n.passages[e][l]),n.passages[e][p].original_object=_,n.passages[e][l].original_object=structuredClone(n.passages[e][l]),n.type==="sequence"){e>=n.value.length&&(e=n.value.length-1);let v=this.passage.pluck(c,n.value[e]);if(v!=null){let I=this.snap_range(v,0);e===0?n.absolute_indices[0]=I.absolute_indices[0]:n.absolute_indices[1]=I.absolute_indices[1]}}else n.original_type=n.type,n.type=n.value[o].type,n.absolute_indices=[n.value[o].absolute_indices[0],n.value[o].absolute_indices[1]];return n}snap_sequence(n,e,o,l,c){let p=e.passages[l];p.absolute_indices[0]===e.absolute_indices[0]&&l<c-1&&this.get_snap_sequence_i(e.passages,l,c)!==l?(e.absolute_indices[0]=e.passages[l+1].absolute_indices[0],this.remove_absolute_indices(e.passages,l+1)):p.absolute_indices[1]===e.absolute_indices[1]&&l>0?e.absolute_indices[1]=o.length>0?o[o.length-1].indices[1]:e.passages[l-1].absolute_indices[1]:n==="book"&&l<c-1&&!this.starts_with_book(e.passages[l+1])&&(e.passages[l+1].absolute_indices[0]=p.absolute_indices[0])}get_snap_sequence_i(n,e,o){for(let l=e+1;l<o;l++){if(this.starts_with_book(n[l]))return l;if(n[l].valid.valid)return e}return e}starts_with_book(n){return!!(n.type.substring(0,1)==="b"||(n.type==="range"||n.type==="ff")&&n.start&&n.start.type&&n.start.type.substring(0,1)==="b")}remove_absolute_indices(n,e){if(n[e].enclosed_absolute_indices[0]<0)return;let[o,l]=n[e].enclosed_absolute_indices,c=n.length;for(let p of n.slice(e))if(p.enclosed_absolute_indices[0]===o&&p.enclosed_absolute_indices[1]===l)p.enclosed_absolute_indices=[-1,-1];else break}add_books(n){return this.regexps_manager.add_books(n)}add_translations(n){return this.translations_manager.add_translations(n)}},wn={ab:/^(?:[a-e])(?!\p{L})/iu,and:/^(?:and|compare|cf\.?|see\s+also|also|see|&)/i,c_explicit:/^[\s*]*(?:chapters|chapter|chapts\.?|chpts\.?|chapt\.?|chaps\.?|chap\.?|chp\.?|chs\.?|cha\.?|ch\.?)[\s*]*/i,c_sep_eu:/^\x1f\x1f\x1f/i,c_sep_us:/^\x1f\x1f\x1f/i,cv_sep_weak:/^(?:[\s*]*["'][\s*]*|[\s*])+/i,cv_sep_eu:/^[\s*]*,+[\s*]*/i,cv_sep_us:/^[\s*]*(?::+|\.(?!\s*\.\s*\.))[\s*]*/i,ff:/^[\s*]*(?:ff(?![a-z0-9])|f(?![a-z0-9]))(?![\p{L}\p{N}])(?:\.(?!\s*\.))?/iu,in_book_of:/^[\s*]*(?:from|of|in)[\s*]*(?:the[\s*]*book[\s*]*of[\s*]*)?/i,next:/^(?:\x1f\x1f\x1f)/i,ordinal:/^(?:th|st|nd|rd)/i,range:/^[\s*]*(?:[\-–—]|through|thru|to)+[\s*]*/i,sequence_eu:/^(?:[;/:&\-–—~\s*]|\.(?!\s*\.\s*\.)|and|compare|cf\.?|see\s+also|also|see)+/i,sequence_us:/^(?:[,;/:&\-–—~\s*]|\.(?!\s*\.\s*\.)|and|compare|cf\.?|see\s+also|also|see)+/i,space:/^[\s*]+/,title:/^[\s*]*(?:title)(?!\p{L})[\s*]*/iu,v_explicit:/^[\s*]*(?:verses|verse|ver\.?|vss\.?|vs\.?|vv\.?|v\.?)[\s*]*(?!\p{L})/iu},Pn={parse:En};
